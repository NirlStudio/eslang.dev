!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=14)}([function(t,n,e){"use strict";var r=e(5),i=e(79),o=Object.prototype.toString;function u(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function a(t){return"[object Function]"===o.call(t)}function l(t,n){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var e=0,r=t.length;e<r;e++)n.call(null,t[e],e,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.call(null,t[i],i,t)}t.exports={isArray:u,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:a,isStream:function(t){return s(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var n={};function e(e,r){"object"==typeof n[r]&&"object"==typeof e?n[r]=t(n[r],e):n[r]=e}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],e);return n},deepMerge:function t(){var n={};function e(e,r){"object"==typeof n[r]&&"object"==typeof e?n[r]=t(n[r],e):n[r]="object"==typeof e?t({},e):e}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],e);return n},extend:function(t,n,e){return l(n,function(n,i){t[i]=e&&"function"==typeof n?r(n,e):n}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,n){var e,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var a,l=[],c=!1,f=-1;function p(){c&&a&&(c=!1,a.length?l=a.concat(l):f=-1,l.length&&h())}function h(){if(!c){var t=s(p);c=!0;for(var n=l.length;n;){for(a=l,l=[];++f<n;)a&&a[f].run();f=-1,n=l.length}a=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function g(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];l.push(new d(t,n)),1!==l.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";(function(n){var e,r=t.exports=[],i=n||window;"function"!=typeof Object.assign&&(r.push("Object.assign"),i.Object.assign=function(t){if(null==t)return null;for(var n=Object(t),e=1;e<arguments.length;e++){var r=arguments[e];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n}),"function"!=typeof Object.create&&(r.push("Object.create"),i.Object.create=(e=function(){},function(t){if(null===t)t={};else if(t!==Object(t))return null;e.prototype=t;var n=new e;return e.prototype=null,n})),"function"!=typeof Object.is&&(r.push("Object.is"),i.Object.is=function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}),"function"!=typeof Object.getOwnPropertyNames&&(r.push("Object.getOwnPropertyNames"),i.Object.getOwnPropertyNames=function(t){var n=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}),"function"!=typeof Object.freeze&&(r.push("Object.freeze"),i.Object.freeze=function(t){return t&&"object"==typeof t&&(t.__es_frozen=!0),t}),"function"!=typeof Object.isFrozen&&(r.push("Object.isFrozen"),i.Object.isFrozen=function(t){return!!t&&!0===t.__es_frozen}),"function"!=typeof String.prototype.startsWith&&(r.push("String.prototype.startsWith"),i.String.prototype.startsWith=function(t,n){return n=n||0,this.substr(n,t.length)===t}),"function"!=typeof String.prototype.endsWith&&(r.push("String.prototype.endsWith"),i.String.prototype.endsWith=function(t,n){var e=this.toString();("number"!=typeof n||!isFinite(n)||Math.floor(n)!==n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n}),"function"!=typeof String.prototype.trim&&(r.push("String.prototype.trim"),i.String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),"function"!=typeof String.prototype.trimLeft&&(r.push("String.prototype.trimLeft"),i.String.prototype.trimLeft=function(){return this.replace(/^[\s\uFEFF\xA0]+/g,"")}),"function"!=typeof String.prototype.trimRight&&(r.push("String.prototype.trimRight"),i.String.prototype.trimRight=function(){return this.replace(/[\s\uFEFF\xA0]+$/g,"")}),"function"!=typeof Array.isArray&&(r.push("Array.isArray"),i.Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),"function"!=typeof Number.isInteger&&(r.push("Number.isInteger"),i.Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),"number"!=typeof Number.MAX_SAFE_INTEGER&&(r.push("Number.MAX_SAFE_INTEGER"),i.Number.MAX_SAFE_INTEGER=Math.pow(2,53)-1),"number"!=typeof Number.MIN_SAFE_INTEGER&&(r.push("Number.MIN_SAFE_INTEGER"),i.Number.MIN_SAFE_INTEGER=-(Math.pow(2,53)-1)),"function"!=typeof Number.isSafeInteger&&(r.push("Number.isSafeInteger"),i.Number.isSafeInteger=function(t){return Number.isInteger(t)&&t>=Number.MIN_SAFE_INTEGER&&t<=Number.MAX_SAFE_INTEGER}),"function"!=typeof Date.now&&(r.push("Date.now"),i.Date.now=function(){return(new Date).getTime()}),"function"!=typeof Math.trunc&&(r.push("Math.trunc"),i.Math.trunc=function(t){return isNaN(t)||Number.isInteger(t)?t:t>0?Math.floor(t):Math.ceil(t)}),"function"!=typeof Math.log2&&(r.push("Math.log2"),i.Math.log2=function(t){return Math.log(t)*Math.LOG2E}),"function"!=typeof Math.log10&&(r.push("Math.log10"),i.Math.log10=function(t){return Math.log(t)*Math.LOG10E}),"object"!=typeof console&&(r.push("console.log"),r.push("console.warn"),i.console={log:function(){},warn:function(){}})}).call(this,e(2))},function(t,n,e){t.exports=e(78)},function(t,n,e){"use strict";t.exports=function(t,n){return function(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];return t.apply(n,e)}}},function(t,n,e){"use strict";var r=e(0);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,n,e){if(!n)return t;var o;if(e)o=e(n);else if(r.isURLSearchParams(n))o=n.toString();else{var u=[];r.forEach(n,function(t,n){null!=t&&(r.isArray(t)?n+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),u.push(i(n)+"="+i(t))}))}),o=u.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,n,e){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,n,e){"use strict";(function(n){var r=e(0),i=e(84),o={"Content-Type":"application/x-www-form-urlencoded"};function u(t,n){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=n)}var s,a={adapter:(void 0!==n&&"[object process]"===Object.prototype.toString.call(n)?s=e(9):"undefined"!=typeof XMLHttpRequest&&(s=e(9)),s),transformRequest:[function(t,n){return i(n,"Accept"),i(n,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(u(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(u(n,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){a.headers[t]={}}),r.forEach(["post","put","patch"],function(t){a.headers[t]=r.merge(o)}),t.exports=a}).call(this,e(1))},function(t,n,e){"use strict";var r=e(0),i=e(85),o=e(6),u=e(87),s=e(88),a=e(10);t.exports=function(t){return new Promise(function(n,l){var c=t.data,f=t.headers;r.isFormData(c)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",d=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+d)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:e,config:t,request:p};i(n,l,r),p=null}},p.onabort=function(){p&&(l(a("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(a("Network Error",t,null,p)),p=null},p.ontimeout=function(){l(a("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=e(89),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,function(t,n){void 0===c&&"content-type"===n.toLowerCase()?delete f[n]:p.setRequestHeader(n,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(n){if("json"!==t.responseType)throw n}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),l(t),p=null)}),void 0===c&&(c=null),p.send(c)})}},function(t,n,e){"use strict";var r=e(86);t.exports=function(t,n,e,i,o){var u=new Error(t);return r(u,n,e,i,o)}},function(t,n,e){"use strict";var r=e(0);t.exports=function(t,n){n=n||{};var e={};return r.forEach(["url","method","params","data"],function(t){void 0!==n[t]&&(e[t]=n[t])}),r.forEach(["headers","auth","proxy"],function(i){r.isObject(n[i])?e[i]=r.deepMerge(t[i],n[i]):void 0!==n[i]?e[i]=n[i]:r.isObject(t[i])?e[i]=r.deepMerge(t[i]):void 0!==t[i]&&(e[i]=t[i])}),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(r){void 0!==n[r]?e[r]=n[r]:void 0!==t[r]&&(e[r]=t[r])}),e}},function(t,n,e){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,n,e){"use strict";(function(n){var e="undefined"==typeof window?n.process:{platform:"browser",env:{DISPLAY:window.navigator.userAgent}},r=e.platform;t.exports=function(t){return"win32"===r?(t.passed="√ ",t.failed="× ",t.pending="~ "):"darwin"===r||e.env.DISPLAY?(t.passed="✓ ",t.failed="✘ ",t.pending="⋯ "):(t.passed="= ",t.failed="x ",t.pending="~ "),!0}}).call(this,e(2))},function(t,n,e){"use strict";var r=e(15)(e(107)()).shell();r instanceof Promise?(console.info("initializing shell ..."),r.then(function(){console.info("shell is ready now.")},function(t){console.error("shell failed to be initialized for",t)})):console.info("shell is ready.")},function(t,n,e){"use strict";var r=e(16),i=e(96),o=e(97),u=e(98),s=e(99),a=e(101);function l(t,n){return"function"==typeof t?t:n}t.exports=function(t,n,c,f){t="object"==typeof t?t:o(),c="function"==typeof c?c:s(t),f=l(f,a);var p=r(c,f);i(p);var h,d=(h=window.location.href).substring(0,h.lastIndexOf("/"));p.env("home",d),p.env("user-home",d),p.env("os",window.navigator.userAgent);var g=p.Object,y=p.createBootstrapSpace(d+"/@");function v(t,n){var e=function(t){return"function"==typeof t?t:"string"==typeof t?function(t){return new Promise(function(n,e){y.$fetch(t).then(function(){n(y.$load(t))},e)})}.bind(null,t):Array.isArray(t)?function(){return y.$fetch(t)}:function(){return y.$fetch("@")}}(t)(y,p);return e instanceof Promise?new Promise(function(t,r){e.then(function(){t(n())},r)}):n()}function m(t,n,e){return b(t||["_@","_profile"],n,e&&"string"==typeof e?e:'(var * (load "_profile"))')}function b(r,i,o){return v(r,function(){var r=l(n,u)(p,t),s=e(104)(p,r,e(105)(p));return p.$shell["test-bootstrap"]=e(106)(p),i instanceof g&&(Object.assign(p.$shell,i),i=[]),s(i,t.echo,o),r.open()})}return{run:function(t,n,e,r){return v(n,function(){return p.$["-enable-console"]=m,p.$run(r||"app",e,t)})},shell:b}}},function(t,n,e){"use strict";(function(n){e(3),t.exports=function(t,r){var i=e(17)(t);return i.require=e(75),i.loader=r(i),i.runtime("home","undefined"==typeof window?n:window.ES_HOME||window.location.origin+"/es"),i}}).call(this,"/")},function(t,n,e){"use strict";t.exports=function(t){var n=e(72)();return function(t){e(18)(t),e(19)(t),e(20)(t),e(21)(t),e(22)(t),e(23)(t),e(24)(t),e(25)(t),e(26)(t),e(27)(t),e(28)(t),e(29)(t),e(30)(t),e(31)(t),e(32)(t),e(33)(t),e(34)(t),e(35)(t),e(36)(t),e(37)(t)}(n),function(t,n){e(38)(t,n),e(39)(t),e(40)(t),e(41)(t),e(42)(t),e(43)(t),e(44)(t),e(45)(t)}(n,t(n)),e(73)(n),e(74)(n),function(t){e(46)(t),e(48)(t),e(49)(t),e(50)(t),e(51)(t),e(52)(t),e(53)(t),e(54)(t),e(55)(t),e(56)(t),e(57)(t)}(n),function(t){e(58)(t),e(59)(t),e(60)(t),e(61)(t),e(62)(t),e(63)(t),e(64)(t),e(65)(t),e(66)(t),e(67)(t),e(68)(t),e(69)(t),e(70)(t),e(71)(t)}(n),n}},function(t,n,e){"use strict";function r(){return function(){return null}}t.exports=function(t){var n=t.$,e=n.tuple,i=n.bool,o=n.date,u=n.number,s=n.string,a=n.object,l=n.array,c=n.lambda,f=n.function,p=n.operator,h=n.promise,d=t.null,g=t.Type$,y=t.Tuple,v=t.Object,m=t.Symbol,b=t.Promise,w=t.operator,x=t.ClassType,O=t.isApplicable;t.isNativeHost="undefined"==typeof window,t.createEmptyOperation=r;var j=Function.prototype.call.bind(Object.prototype.isPrototypeOf);t.isPrototypeOf=j;var $=Function.prototype.call.bind(Object.prototype.hasOwnProperty);t.ownsProperty=$;var A=Function.prototype.call.bind(Function.prototype.bind);t.safelyBind=A;var N=function(t,n,e,r,i,o,u,s,a,l,c,f,p,h,d,g,y){switch(arguments.length){case 0:return null;case 1:return new t;case 2:return new t(n);case 3:return new t(n,e);case 4:return new t(n,e,r);case 5:return new t(n,e,r,i);case 6:return new t(n,e,r,i,o);case 7:return new t(n,e,r,i,o,u);case 8:return new t(n,e,r,i,o,u,s);case 9:return new t(n,e,r,i,o,u,s,a);case 10:return new t(n,e,r,i,o,u,s,a,l);case 11:return new t(n,e,r,i,o,u,s,a,l,c);case 12:return new t(n,e,r,i,o,u,s,a,l,c,f);case 13:return new t(n,e,r,i,o,u,s,a,l,c,f,p);case 14:return new t(n,e,r,i,o,u,s,a,l,c,f,p,h);case 15:return new t(n,e,r,i,o,u,s,a,l,c,f,p,h,d);case 16:return new t(n,e,r,i,o,u,s,a,l,c,f,p,h,d,g);default:return new t(n,e,r,i,o,u,s,a,l,c,f,p,h,d,g,y)}};t.newInstance=N;t.safelyAssign=function(t,n,e){for(var r in n)if(!e||$(n,r)){var i=n[r];t[r]="function"!=typeof i?i:A(i,n)}return"function"==typeof n&&(t.call=A(n,null),t.new=N.bind(null,n)),t},t.appendExt=function(t){return t&&"string"==typeof t?t.endsWith(".es")?t:t+".es":t};var S=t.sharedSymbols=Object.create(null);function k(t){return S[t]||(S[t]=new m(t))}t.sharedSymbolOf=k,t.staticOperator=function(r,i){return n[r]=k(r),t.staticOperators[r]=w(i,e.operator),i},t.regexNumber=/(^)([-+]?\d*\.\d+|[-+]?\d+\.\d*|[+-]\d+|\d+)/,t.regexDecimal=/(^)([-+]?\d*\.\d+|[-+]?\d+\.\d*|[+-]\d+|\d\b|[1-9]\d*)/,t.regexPunctuation=/[\\(,)\s]/,t.regexSpecialSymbol=/[(`@:$"#)',;\\\s[\]{}]/,t.regexConstants=/^(null|true|false)$/,t.constantValues=Object.assign(Object.create(null),{null:null,true:!0,false:!1});var T=t.regexNumber,E=t.regexConstants,C=t.regexPunctuation,I=t.regexSpecialSymbol,P=t.isSafeName=function(t){return!(!t||I.test(t)||E.test(t)||T.test(t))};function F(t){if(null==t)return null;switch(typeof t){case"boolean":return i;case"number":return u;case"string":return s;case"function":return t.type===c?c:t.type===p?p:f;case"object":return t instanceof g?Object.getPrototypeOf(t).type||a:Array.isArray(t)?l:t instanceof Date?o:t instanceof b?h:a;default:return null}}t.isSafeSymbol=function(t){return!(!t||C.test(t)||I.test(t)&&!(t.length<2)||E.test(t)||T.test(t))},t.escapeSymbol=function(t){for(var n=[],e=0;e<t.length;e++)I.test(t[e])&&n.push("\\"),n.push(t[e]);return n.join("")},t.encodeFieldName=function(t){return P(t)?S[t]||new m(t):t},t.isObject=function(t){return t instanceof v||F(t)===a},t.typeOf=F;var D=t.indexerOf=function(t){var n=F(t);return n&&n.indexer||d[":"]},R=t.protoValueOf=function(t,n,e){var r=n[e];return"function"!=typeof r||r.type!==c&&r.type!==f?r:M(t,r)};t.thisCall=function(t,n){var e=D(t).call(t,n);return"function"!=typeof e?e:arguments.length<3?e.call(t):e.apply(t,Array.prototype.slice.call(arguments,2))};var _=t.tryToUpdateName=function(t,n){return"function"==typeof t?t.name&&"string"==typeof t.name||Object.defineProperty(t,"name",{value:n}):t instanceof x&&(t.name&&"string"==typeof t.name||(t.name=n)),t};function M(t,n){if(void 0!==n.this)return n;var e=A(n,t);return e.this=t,e.bound=n,void 0!==n.code&&(e.code=n.code),"string"==typeof n.name&&Object.defineProperty(e,"name",{value:n.name}),e.type!==n.type&&(e.type=n.type),n.type===c&&!0===n.static&&(e.const=!0),e}function L(t,n,e,r){if("function"==typeof e&&($(e,"type")||(e.type=c),e.name||Object.defineProperty(e,"name",{value:"string"==typeof n?n:n[0]}),r&&O(e)&&(e=M(t,e))),"string"==typeof n)k(n),t[n]=e;else for(var i=0;i<n.length;i++)k(n[i]),t[n[i]]=e;return e}t.export=function(t,n,e){return k(n),O(e)&&(e=M(null,e)),_(e,n),e&&"object"==typeof e&&(e.seal?e.seal():Object.freeze(e)),t[n]=e},t.bindThis=M,t.link=L,t.copyType=function(t,n,e){for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i],u=n[o];"function"==typeof u&&((u=A(u,n)).type=c,Object.defineProperty(u,"name",{value:e[o]})),t[e[o]]=u}return t},t.prepareOperation=function(t,n,e){Object.defineProperty(n,"name",{value:"noop"});var r=L(t,"empty",function(){return n},!0);L(t,"of",r,!0);var i=t.proto;L(i,"name",function(){return"string"==typeof this.name?this.name:""}),L(i,"parameters",function(){return(this.code||e).$[1]}),L(i,"body",function(){return(this.code||e).$[2]}),L(i,"is-generic",function(){return!(this.code instanceof y)}),L(i,"not-generic",function(){return this.code instanceof y}),L(i,"is-empty",function(){return this.code instanceof y&&(this.code.$.length<3||this.code.$[2].$.length<1)}),L(i,"not-empty",function(){return!(this.code instanceof y)||this.code.$.length>2&&this.code.$[2].$.length>0}),L(i,"to-code",function(t){return this.code||e}),L(i,"to-string",function(){return(this.code||e)["to-string"]()});var o=L(i,":",function(t){return"string"==typeof t?R(this,i,t):t instanceof m?R(this,i,t.key):null});o.get=function(t){return i[t]},L(t,"indexer",o)},t.prepareApplicable=function(t,n){var e=t.proto;L(e,"is-bound",function(){return"function"==typeof this.bound}),L(e,"not-bound",function(){return"function"!=typeof this.bound}),L(e,"this",function(){return"function"==typeof this.bound?this.this:null}),L(e,"apply",function(t,n){return void 0===t?this.apply(null):Array.isArray(n)?this.apply(t,n):void 0===n?this.call(t):this.call(t,n)}),L(e,["is","==="],function(t){return"function"==typeof t&&(this===t||void 0!==this.this&&(this.this===t.this||Object.is(this.this,t.this))&&void 0!==this.bound&&this.bound===t.bound)}),L(e,["is-not","!=="],function(t){return"function"!=typeof t||this!==t&&(void 0===this.this||this.this!==t.this&&!Object.is(this.this,t.this)||void 0===this.bound||this.bound!==t.bound)}),L(e,["equals","=="],function(t){return"function"==typeof t&&(this===t||this===t.bound||void 0!==this.bound&&(this.bound===t||this.bound===t.bound))}),L(e,["not-equals","!="],function(t){return"function"!=typeof t||this!==t&&this!==t.bound&&(void 0===this.bound||this.bound!==t&&this.bound!==t.bound)})}}},function(t,n,e){"use strict";var r="function"==typeof Map?function(){var t=new Map;return{get:t.get.bind(t),set:function(n,e){return t.set(n,e),e},add:function(n,e){return t.set(n,e),e}}}:"function"==typeof Array.prototype.indexOf?function(){var t=[],n=[];return{get:function(e){var r=t.indexOf(e);if(r>=0)return n[r]},set:function(e,r){var i=t.indexOf(e);return i>=0?n[i]=r:this.add(e,r)},add:function(e,r){return t.push(e),n.push(r),r}}}:function(){var t=[],n=[];return{get:function(e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return n[r]},set:function(e,r){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return n[i]=r;return this.add(e,r)},add:function(e,r){return t.push(e),n.push(r),r}}};t.exports=function(t){var n=t.$,e=n.tuple,i=n.array,o=n.object,u=n.symbol,s=t.Tuple,a=t.Object,l=t.Symbol,c=t.typeOf,f=t.thisCall,p=t.sharedSymbolOf,h=p("_"),d=p("object"),g=p("class"),y=function(t){return(t=t["to-code"]())===u.empty?d:t},v=function(t,n,e){var r=e.$;if(r.length>2&&r[0]===u.literal&&r[1]===u.pairing&&r[2]instanceof l){var a=r[2].key;"array"!==a&&"object"!==a&&"class"!==a&&(r.length>3?r.splice(1,2):r.splice(2,1))}return n===i?new s([t,u.of("append"),e]):n===o||(n=y(n))===d?new s([d,u.of("assign"),t,e]):new s([g,u.of("attach"),t,e])};t.EncodingContext=function(t){this.objects=r(),this.objects.add(this.root=t,null),this.clist=[],this.shared=[]},t.EncodingContext.prototype={_createRef:function(t){var n=new s([h,this.shared.length]);return this.shared.push(t),n},begin:function(t){var n,e=this.objects.get(t);if(void 0===e)return this.objects.add(t,null);if(null===e)return e=this.clist.length,n=this._createRef(e),this.objects.set(t,e),this.clist.push([n,null,null]),n;var r=this.clist[e];if(!(n=r[0])){n=r[0]=this._createRef(e);var i=r[2],o=new s(i.$);i.$=n.$,r[2]=o}return n},encode:function(t){return null==t?null:"number"==typeof t||"string"==typeof t?t:Array.isArray(t)||c(t)===o||t instanceof a?f(t,"to-code",this):f(t,"to-code")},end:function(t,n,e){n!==i&&n!==o&&n.name&&(e.$[1]!==u.pairing?e.$.splice(1,0,u.pairing,p(n.name)):e.$.length<3&&e.$.splice(2,0,p(n.name)));var r=this.objects.get(t);if(null===r)return r=this.clist.length,this.objects.set(t,r),this.clist.push([null,n,e]),t===this.root?this._finalize(r):e;var s=this.clist[r];return s[1]=n,s[2]=e,t===this.root?this._finalize(r):s[0]},_finalize:function(t){if(this.shared.length<1)return this.clist[t][2];for(var n,r,a=[u.literal],l=[new s([u.local,h,new s(a)])],c=0;c<this.shared.length;c++){var f=this.shared[c],p=this.clist[f];a.push((r=p[1])===i?e.array:r===o||(r=y(r))===d?e.object:new s([u.literal,u.pairing,r])),f===t?n=v.apply(null,p):l.push(v.apply(null,p))}return l.push(n||this.clist[t][2]),new s([u.function,u.pairing,e.empty,new s(l,!0)])}}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.null,e=t.link,r=t.Symbol;e(n,["is","===","equals","=="],function(t){return Object.is(void 0===this?null:this,void 0===t?null:t)}),e(n,["is-not","!==","not-equals","!="],function(t){return!Object.is(void 0===this?null:this,void 0===t?null:t)}),e(n,"compare",function(t){return Object.is(this,void 0===t?null:t)?0:null}),e(n,"is-empty",function(){return!0}),e(n,"not-empty",function(){return!1}),e(n,["is-a","is-an"],function(t){return null==t}),e(n,["is-not-a","is-not-an"],function(t){return null!=t}),e(n,"to-code",function(){return this}),e(n,"to-string",function(){return"null"}),e(n,":",function(t){return"string"==typeof t?n[t]:t instanceof r?n[t.key]:null})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.type,r=n.symbol,i=n.object,o=t.null,u=t.Symbol,s=t.link,a=t.typeOf,l=t.bindThis,c=t.isApplicable,f=t.protoValueOf,p=t.sharedSymbolOf,h=e.proto;s(h,["is-a","is-an"],function(t){return a(this)===t}),s(h,["is-not-a","is-not-an"],function(t){return a(this)!==t});var d=s(h,":",function(t){var n="string"==typeof t?t:t instanceof u?t.key:"";return"proto"===n?this.reflect():"indexer"!==n?f(this,this,n):l(c(this.empty)?this.empty():this.empty,this.indexer)});d.get=function(t){return"proto"===t?this.reflect():"indexer"===t?null:this[t]},s(e,"empty",e),s(e,"of",a,!0),s(e,"indexer",d),s(e,"reflect",function(t){var n,r=i.empty();if(this===e&&null===t){for(n in o)r[n]=l(null,o[n]);return r.type=null,r}var u,s,f=this.proto;for(n in a(t)===this&&(s=t),f)"type"!==n&&void 0===h[n]&&(u=f[n],r[n]=c(u)?l(void 0!==s?s:s=c(this.empty)?this.empty():this.empty,u):u);var p=r.type=i.empty();for(n in this)"proto"!==n&&"type"!==n&&void 0===h[n]&&(u=this[n],p[n]=c(u)?l("indexer"!==n?this:void 0!==s?s:s=c(this.empty)?this.empty():this.empty,u):u);return r}),s(e,"seal",function(){return this}),s(e,"is-sealed",function(){return!0}),s(e,["is-a","is-an"],function(t){return e===t},!0),s(e,["is-not-a","is-not-an"],function(t){return e!==t},!0),s(e,"is-empty",function(){return this===e}),s(e,"not-empty",function(){return this!==e}),s(e,"to-code",function(){return"string"==typeof this.name?p(this.name):r.empty}),s(e,"to-string",function(){return"string"==typeof this.name?this.name:""})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.bool,e=t.link,r=t.Symbol,i=t.protoValueOf;e(n,"empty",!1),t.boolValueOf=e(n,"of",function(t){return null!==t&&0!==t&&!1!==t&&void 0!==t},!0);var o=n.proto;e(o,"is-empty",function(){return!1===this}),e(o,"not-empty",function(){return!1!==this}),e(o,"to-string",function(){return!0===this?"true":"false"});var u=e(o,":",function(t){return"string"==typeof t?i(this,o,t):t instanceof r?i(this,o,t.key):null});u.get=function(t){return o[t]},e(n,"indexer",u)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.string,e=t.link,r=t.Symbol,i=t.thisCall,o=t.protoValueOf;e(n,"empty",""),e(n,"of",function(t){if(void 0===t)return"";for(var n=[],e=0;e<arguments.length;e++){var r=arguments[e];"string"!=typeof r&&"string"!=typeof(r=i(r,"to-string"))&&(r=""),r&&n.push(r)}return n.join("")},!0),e(n,"of-chars",function(){return String.fromCharCode.apply(String,arguments)},!0),e(n,"of-code",function(t){return void 0===t?"":i(i(t,"to-code"),"to-string")},!0);var u=n.proto;e(u,"length",function(){return this.length}),e(u,"first",function(t){return void 0===t?this.length>0?this.charAt(0):null:this.substr(0,t>>0)}),e(u,"first-of",function(t,n){return n>>=0,this.indexOf(t,n<0?n+this.length:n)}),e(u,"last",function(t){return void 0===t?this.length>0?this.charAt(this.length-1):null:this.substr(Math.max(0,this.length-(t>>=0)),t)}),e(u,"last-of",function(t,n){return void 0===t?-1:"string"==typeof t&&t?this.lastIndexOf(t,(n=void 0===n?this.length:n>>0)<0?n+this.length:n):this.length}),e(u,"contains",function(t){return"string"==typeof t&&this.indexOf(t)>=0}),e(u,"starts-with",function(t){return"string"==typeof t&&this.startsWith(t)}),e(u,"ends-with",function(t){return"string"==typeof t&&this.endsWith(t)});var s=e(u,"copy",function(t,n){return t>>=0,(n=void 0===n?1/0:n>>0)<0&&(t+=n,n=-n),t<0&&(t+=this.length)<0&&(n+=t,t=0),this.substr(t,n)}),a=e(u,"slice",function(t,n){return(t>>=0)<0&&(t+=this.length)<0&&(t=0),(n=void 0===n?this.length:n>>0)<0&&(n+=this.length)<0&&(n=0),this.substr(t,n-t)});e(u,"trim",String.prototype.trim),e(u,"trim-left",String.prototype.trimLeft),e(u,"trim-right",String.prototype.trimRight),e(u,"replace",function(t,n){return"string"==typeof t&&t?this.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"string"==typeof n?n:""):this}),e(u,"to-upper",function(t){return!0===t?this.toLocaleUpperCase():this.toUpperCase()}),e(u,"to-lower",function(t){return!0===t?this.toLocaleLowerCase():this.toLowerCase()}),e(u,["concat","+"],function(){for(var n=this?[this]:[],e=0;e<arguments.length;e++){var r=arguments[e];"string"!=typeof r&&"string"!=typeof(r=t.thisCall(r,"to-string"))&&(r=""),r&&n.push(r)}return n.join("")}),e(u,"-",function(){if(this.length<1||arguments.length<1)return this;for(var t=this,n=arguments.length-1;n>=0;n--){var e=arguments[n];"string"==typeof e?t.endsWith(e)&&(t=t.substring(0,t.length-e.length)):"number"==typeof e?t=t.substring(0,t.length-e):("string"!=typeof(e=i(e,"to-string"))&&(e=""),e&&t.endsWith(e)&&(t=t.substring(0,t.length-e.length)))}return t}),e(u,"split",function(t){return void 0===t?this.split(" "):"string"!=typeof t?[this]:t?this.split(t):l.call(this)});var l=e(u,"as-chars","function"==typeof Array.from?function(){return Array.from(this)}:function(){return this.length<1?[]:this.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/)});e(u,"char-at",function(t){t>>=0;var n=this.charCodeAt(t<0?t+this.length:t);return isNaN(n)?null:n}),e(u,"compare",function(t){return"string"!=typeof t?null:this===t?0:this>t?1:-1}),e(u,">",function(t){return"string"==typeof t?this>t:null}),e(u,">=",function(t){return"string"==typeof t?this>=t:null}),e(u,"<",function(t){return"string"==typeof t?this<t:null}),e(u,"<=",function(t){return"string"==typeof t?this<=t:null}),e(u,"is-empty",function(){return""===this}),e(u,"not-empty",function(){return""!==this}),e(u,"to-string",function(){return JSON.stringify(this)});var c=e(u,":",function(t){return"string"==typeof t?o(this,u,t):t instanceof r?o(this,u,t.key):"number"!=typeof t?null:arguments.length>1?a.apply(this,arguments):s.apply(this,[t,1])});c.get=function(t){return u[t]},e(n,"indexer",c)}},function(t,n,e){"use strict";function r(t){var n=Number.isSafeInteger(t)?t:isNaN(t)?0:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:Math.trunc(t);return 0===n?0:n}function i(t){return t>=0?Math.trunc(t):4294967296+(t>>0)}t.exports=function(t){var n=t.$,e=n.number,o=n.range,u=t.link,s=t.Symbol,a=t.copyType,l=t.protoValueOf;a(e,Number,{MAX_VALUE:"max",MIN_VALUE:"smallest",MAX_SAFE_INTEGER:"max-int",MIN_SAFE_INTEGER:"min-int",POSITIVE_INFINITY:"infinite",NEGATIVE_INFINITY:"-infinite"}),u(e,"min",-Number.MAX_VALUE),u(e,"bits",32);var c=u(e,"max-bits",2147483647),f=u(e,"min-bits",-2147483648);u(e,"empty",0),u(e,"invalid",NaN);var p=/\s*\(number\s+(invalid|[-]?infinite)\s*\)\s*/,h=u(e,"parse",function(t){if("string"!=typeof t)return"number"==typeof t?t:NaN;var n=t.match(p);switch(n&&n.length>1?n[1]:""){case"invalid":return NaN;case"infinite":return Number.POSITIVE_INFINITY;case"-infinite":return Number.NEGATIVE_INFINITY;default:return parseFloat(t)}},!0),d=u(e,"parse-int",function(t){var n,e;if("string"!=typeof t)return"number"!=typeof t?NaN:0===t?0:isNaN(t)?NaN:0===(n=Math.trunc(t))?0:Number.isSafeInteger(n)?n:NaN;if(t.startsWith("0x"))e=16,t=t.substring(2);else if(t.startsWith("0b"))e=2,t=t.substring(2);else if(t.length>1&&t.startsWith("0"))e=8,t=t.substring(1);else{e=10;var r=t.indexOf(".");r>=0&&(t=t.substr(0,r))}return 0===(n=parseInt(t,e))?0:t.endsWith("i")?n>>0:Number.isSafeInteger(n)?n:NaN},!0),g=u(e,"of",function(t,n,e){return function(t,r){var i;return i="string"==typeof t?t.startsWith("0x")||t.startsWith("0b")?e(t):n(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null==t?0:"number"==typeof t?t:NaN,isNaN(i)&&"number"==typeof r?r:i}}(0,h,d),!0),y=u(e,"of-int",function(t,n){return function(t,e){var i;if("string"==typeof t)i=n(t);else if("number"==typeof t)i=0===t?0:Math.trunc(t);else if("boolean"==typeof t)return t?1:0;return Number.isSafeInteger(i)?i:Number.isSafeInteger(e)?e:r(i)}}(0,d),!0);u(e,"of-bits",function(t){return y(t)>>0},!0);var v=e.proto;u(v,"is-valid",function(){return!isNaN(this)}),u(v,"is-invalid",function(){return isNaN(this)}),u(v,"is-finite",function(){return isFinite(this)}),u(v,"is-infinite",function(){return!isFinite(this)}),u(v,"is-int",function(){return Number.isSafeInteger(this)&&(0!==this||1/this==1/0)}),u(v,"is-not-int",function(){return!Number.isSafeInteger(this)||0===this&&1/this!=1/0}),u(v,"is-bits",function(){return Number.isSafeInteger(this)&&this>=f&&this<=c&&(0!==this||1/this==1/0)}),u(v,"is-not-bits",function(){return!Number.isSafeInteger(this)||this<f||this>c||0===this&&1/this!=1/0}),u(v,"as-int",function(){return r(this)}),u(v,"as-bits",function(){return this>>0}),u(v,["th","st","nd","rd"],function(){var t=r(this);return t>=0?t-1:t}),u(v,["+","plus"],function(t){return function(){for(var n=this,e=0;e<arguments.length;e++){var r=arguments[e];n+="number"==typeof r?r:t(r)}return n}}(g)),u(v,["-","minus"],function(t){return function(){for(var n=this,e=0;e<arguments.length;e++){var r=arguments[e];n-="number"==typeof r?r:t(r)}return n}}(g)),u(v,["*","times"],function(t){return function(){for(var n=this,e=0;e<arguments.length;e++){var r=arguments[e];n*="number"==typeof r?r:t(r)}return n}}(g)),u(v,["/","divided-by"],function(t){return function(){for(var n=this,e=0;e<arguments.length;e++){var r=arguments[e];n/="number"==typeof r?r:t(r)}return n}}(g)),u(v,"%",function(t){return void 0===t?this:isNaN(t)||"number"!=typeof t?NaN:isFinite(t)?this%g(t):this}),u(v,"&",function(t){return this&t}),u(v,"|",function(t){return this|t}),u(v,"^",function(t){return this^t}),u(v,"<<",function(t){return(t>>=0)<=0?this<<0:t>=32?0:this<<t}),u(v,">>",function(t){return(t>>=0)<=0?this>>0:t>=32?this>>0>=0?0:-1:this>>t}),u(v,">>>",function(t){return(t>>=0)<=0?this>>0:t>=32?0:this>>>t});var m=u(v,"compare",function(t){return"number"!=typeof t?null:this===t?0:isNaN(this)||isNaN(t)?isNaN(this)&&isNaN(t)?0:null:this>t?1:-1});u(v,">",function(t){var n=m.call(this,t);return null!==n?n>0:null}),u(v,">=",function(t){var n=m.call(this,t);return null!==n?n>=0:null}),u(v,"<",function(t){var n=m.call(this,t);return null!==n?n<0:null}),u(v,"<=",function(t){var n=m.call(this,t);return null!==n?n<=0:null}),u(v,["equals","=="],function(t){return"number"==typeof t&&(this===t||isNaN(this)&&isNaN(t))}),u(v,["not-equals","!="],function(t){return"number"!=typeof t||this!==t&&!(isNaN(this)&&isNaN(t))}),u(v,"ceil",function(){return Math.ceil(this)}),u(v,"floor",function(){return Math.floor(this)}),u(v,"round",function(){return Math.round(this)}),u(v,"trunc",function(){return Math.trunc(this)}),u(v,"is-empty",function(){return 0===this||isNaN(this)}),u(v,"not-empty",function(){return 0!==this&&!isNaN(this)}),u(v,"to-string",function(t){if(isNaN(this))return"(number invalid)";if(this===Number.POSITIVE_INFINITY)return"(number infinite)";if(this===Number.NEGATIVE_INFINITY)return"(number -infinite)";if(!t)return Object.is(this,-0)?"-0":this.toString();switch(t){case"H":case"HEX":return i(this).toString(16);case"h":case"hex":return"0x"+i(this).toString(16);case"O":case"OCT":return i(this).toString(8);case"o":case"oct":return"0"+i(this).toString(8);case"B":case"BIN":return i(this).toString(2);case"b":case"bin":return"0b"+i(this).toString(2);default:return this.toString()}});var b=u(v,":",function(t,n){return"string"==typeof t?l(this,v,t):"number"==typeof t?o.of(this,t,n):t instanceof s?l(this,v,t.key):null});b.get=function(t){return v[t]},u(e,"indexer",b)}},function(t,n,e){"use strict";(function(n){function e(){var t,e,r;return(t=Intl&&Intl.DateTimeFormat&&Intl.DateTimeFormat())&&(e=t&&t.resolveOptions&&t.resolveOptions())&&e.timeZone||n&&n.env.TZ||((r=(new Date).getTimezoneOffset()/60)>=0?"UTC+"+r.toString():"UTC"+r.toString())}t.exports=function(t){var n=t.$,r=n.date,i=n.object,o=t.link,u=t.Symbol,s=t.protoValueOf,a=n.number.proto.compare,l=n.number.proto["to-string"],c=o(r,"empty",new Date(0)),f=o(r,"invalid",new Date(NaN));o(r,"parse",function(t){return"string"!=typeof t?f:new Date(t)},!0),o(r,"of",function(t,n,e,r,i,o,u){switch(arguments.length){case 0:return c;case 1:return t instanceof Date?t:new Date(t);case 2:return new Date(t,n-1);case 3:return new Date(t,n-1,e);case 4:return new Date(t,n-1,e,r);case 5:return new Date(t,n-1,e,r,i);case 6:return new Date(t,n-1,e,r,i,o);default:return new Date(t,n-1,e,r,i,o,u)}},!0),o(r,"of-utc",function(t,n,e,r,i,o,u){switch(arguments.length){case 0:return c;case 1:return new Date(Date.UTC(t,0));case 2:return new Date(Date.UTC(t,n-1));case 3:return new Date(Date.UTC(t,n-1,e));case 4:return new Date(Date.UTC(t,n-1,e,r));case 5:return new Date(Date.UTC(t,n-1,e,r,i));case 6:return new Date(Date.UTC(t,n-1,e,r,i,o));default:return new Date(Date.UTC(t,n-1,e,r,i,o,u))}},!0),o(r,"now",function(){return new Date},!0),o(r,"timestamp",function(){return Date.now()},!0),o(r,"timezone",function(){return i.of({name:e(),offset:(new Date).getTimezoneOffset()})},!0);var p=r.proto;o(p,"is-valid",function(){return!isNaN(this.getTime())}),o(p,"is-invalid",function(){return isNaN(this.getTime())}),o(p,"date-fields",function(t){return isNaN(this.getTime())?null:t?[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate()]:[this.getFullYear(),this.getMonth()+1,this.getDate()]}),o(p,"time-fields",function(t){return isNaN(this.getTime())?null:t?[this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds(),this.getUTCMilliseconds()]:[this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds()]}),o(p,"all-fields",function(t){return isNaN(this.getTime())?null:t?[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds(),this.getUTCMilliseconds()]:[this.getFullYear(),this.getMonth()+1,this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds()]}),o(p,"week-day",function(t){return isNaN(this.getTime())?null:t?this.getUTCDay():this.getDay()}),o(p,"timestamp",function(t){return this.getTime()}),o(p,"+",function(t){return"number"==typeof t?new Date(this.getTime()+t):this}),o(p,"-",function(t){return"number"==typeof t?new Date(this.getTime()-t):t instanceof Date?this.getTime()-t.getTime():this});var h=o(p,"compare",function(t){return t instanceof Date?a.call(this.getTime(),t.getTime()):null});o(p,["is","===","equals","=="],function(t){return this===t||0===h.call(this,t)}),o(p,["is-not","!==","not-equals","!="],function(t){return this!==t&&0!==h.call(this,t)}),o(p,">",function(t){var n=h.call(this,t);return null!==n?n>0:null}),o(p,">=",function(t){var n=h.call(this,t);return null!==n?n>=0:null}),o(p,"<",function(t){var n=h.call(this,t);return null!==n?n<0:null}),o(p,"<=",function(t){var n=h.call(this,t);return null!==n?n<=0:null}),o(p,"is-empty",function(){var t=this.getTime();return 0===t||isNaN(t)}),o(p,"not-empty",function(){var t=this.getTime();return 0!==t&&!isNaN(t)}),o(p,"to-string",function(t){if(void 0===t){var n=this.getTime();return isNaN(n)?"(date invalid)":0===n?"(date empty)":"(date of "+l.call(this.getTime())+")"}switch(t){case"utc":return this.toUTCString();case"date":return this.toLocaleDateString();case"time":return this.toLocaleTimeString();default:return this.toLocaleString()}});var d=o(p,":",function(t){return"string"==typeof t?s(this,p,t):t instanceof u?s(this,p,t.key):null});d.get=function(t){return p[t]},o(r,"indexer",d)}}).call(this,e(1))},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.range,e=t.Range,r=t.Symbol,i=t.link,o=t.protoValueOf;i(n,"empty",new e(0,0,1)),i(n,"of",function(t,n,r){return t instanceof e?t:("number"==typeof t&&!isNaN(t)&&isFinite(t)||(t=0),void 0===n?(n=t,t=0):"number"==typeof n&&!isNaN(n)&&isFinite(n)||(n=0),"number"==typeof r&&!isNaN(r)&&isFinite(r)||(r=0),new e(t,n,r||(t<=n?1:-1)))},!0);var u=n.proto;i(u,"begin",function(){return this.begin}),i(u,"end",function(){return this.end}),i(u,"step",function(){return this.step}),i(u,"count",function(){var t=this.end-this.begin,n=Math.trunc(t/this.step),e=t%this.step;return n<0?0:e?n+1:n}),i(u,"iterate",function(){var t=this,n=null,e=this.begin;return function(r){return null!==n&&!0===r?n:(t.step>0?e>=t.end:e<=t.end)?null:(n=e,e+=t.step,n)}}),i(u,["is","===","equals","=="],function(t){return this===t||t instanceof e&&this.begin===t.begin&&this.end===t.end&&this.step===t.step}),i(u,["is-not","!==","not-equals","!="],function(t){return!(this===t||t instanceof e&&this.begin===t.begin&&this.end===t.end&&this.step===t.step)}),i(u,"compare",function(t){return this===t?0:t instanceof e&&this.step===t.step?this.step>0?this.begin<t.begin?this.end>=t.end?1:null:this.begin===t.begin?this.end<t.end?-1:this.end===t.end?0:1:this.end<=t.end?-1:null:this.begin>t.begin?this.end<=t.end?1:null:this.begin===t.begin?this.end>t.end?-1:this.end===t.end?0:1:this.end>=t.end?-1:null:null}),i(u,"is-empty",function(){return this.step>0?this.begin>=this.end:this.begin<=this.end}),i(u,"not-empty",function(){return this.step>0?this.begin<this.end:this.begin>this.end}),i(u,"to-string",function(){return"("+[this.begin,this.end,this.step].join(" ")+")"});var s=i(u,":",function(t,n){return"string"==typeof t?o(this,u,t):t instanceof r?o(this,u,t.key):null});s.get=function(t){return u[t]},i(n,"indexer",s)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.symbol,r=n.tuple,i=n.string,o=t.Symbol,u=t.link,s=t.isSafeName,a=t.isSafeSymbol,l=t.escapeSymbol,c=t.protoValueOf,f=i.proto.compare,p=i.proto["to-string"],h=t.sharedSymbols,d=t.sharedSymbolOf,g=u(e,"empty",d(""));u(e,"etc",d("...")),u(e,"all",d("*")),u(e,"any",d("?")),u(e,"quote",d("`")),u(e,"lambda",d("=")),u(e,"stambda",d("->")),u(e,"function",d("=>")),u(e,"operator",d("=?")),u(e,"let",d("let")),u(e,"var",d("var")),u(e,"const",d("const")),u(e,"local",d("local")),u(e,"locon",d("locon")),u(e,"escape",d("\\")),u(e,"begin",d("(")),u(e,"end",d(")")),u(e,"comma",d(",")),u(e,"period",d(".")),u(e,"semicolon",d(";")),u(e,"literal",d("@")),u(e,"pairing",d(":")),u(e,"subject",d("$")),u(e,"comment",d("#")),u(e,"of",function(t){return"string"==typeof t?h[t]||new o(t):t instanceof o?t:g},!0),u(e,"of-shared",function(t){return"string"==typeof t?d(t):t instanceof o?d(t.key):g},!0),u(e,"is-safe",function(t,n){return"string"==typeof t?n===e?a(t):s(t):t instanceof o&&(n===e?a(t.key):s(this.key))},!0);var y=e.proto;u(y,"key",function(){return this.key}),u(y,"is-safe",function(t){return t===e?a(this.key):s(this.key)}),u(y,"is-unsafe",function(t){return t===e?!a(this.key):!s(this.key)}),u(y,["is","===","equals","=="],function(t){return this===t||t instanceof o&&this.key===t.key}),u(y,["is-not","!==","not-equals","!="],function(t){return!(this===t||t instanceof o&&this.key===t.key)}),u(y,"compare",function(t){return this===t?0:t instanceof o?f.call(this.key,t.key):null}),u(y,"is-empty",function(){return""===this.key||"\t"===this.key}),u(y,"not-empty",function(){return""!==this.key&&"\t"!==this.key}),u(y,"to-string",function(t){switch(t){case i:return a(this.key)?this.key:p.call(this.key);case r:return this.key?a(this.key)?"(`"+this.key+")":"(symbol of "+p.call(this.key)+")":"(`)";case e:return a(this.key)?this.key:l(this.key);default:return this.key}});var v=u(y,":",function(t){return"string"==typeof t?c(this,y,t):t instanceof o?c(this,y,t.key):null});v.get=function(t){return y[t]},u(e,"indexer",v)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.tuple,r=n.array,i=n.symbol,o=t.Tuple,u=t.Range,s=t.Symbol,a=t.link,l=t.thisCall,c=t.protoValueOf,f=t.sharedSymbolOf,p=a(e,"empty",new o([])),h=a(e,"blank",new o([],!0)),d=a(e,"unknown",new o([i.etc]));a(e,"lambda",new o([i.lambda,p,h])),a(e,"stambda",new o([i.stambda,p,h])),a(e,"function",new o([i.function,p,h])),a(e,"operator",new o([i.operator,p,h])),a(e,"array",new o([i.literal])),a(e,"object",new o([i.literal,i.pairing])),a(e,"class",new o([i.literal,i.pairing,f("class")])),a(e,"accepts",function(t){return t instanceof s||t instanceof o||"string"==typeof t||"number"==typeof t||"boolean"==typeof t||t instanceof u||t instanceof Date||null==t},!0);var g=a(e,"atom-of",function(t){return t instanceof s||t instanceof o||"string"==typeof t||"number"==typeof t||"boolean"==typeof t||t instanceof u||t instanceof Date||null===t?t:void 0===t?null:d},!0),y=function(){var t=this.length;for(this.push.apply(this,arguments);t<this.length;t++)this[t]=g(this[t]);return this};a(e,"of",function(){return arguments.length?new o(y.apply([],arguments)):p},!0),a(e,"of-plain",function(){return arguments.length?new o(y.apply([],arguments),!0):h},!0),a(e,"from",function(){return b.apply(p,arguments)},!0),a(e,"from-plain",function(){return b.apply(h,arguments)},!0);var v=e.proto;a(v,"length",function(){return this.$.length}),a(v,"is-plain",function(){return!0===this.plain}),a(v,"not-plain",function(){return!0!==this.plain}),a(v,"as-plain",function(){return!0===this.plain?this:this.$.length<1?h:new o(this.$,!0)}),a(v,"source-map",function(){return this.source});var m=r.proto;a(v,"iterate",function(){return m.iterate.apply(this.$,arguments)}),a(v,"copy",function(t,n){var e=m.copy.apply(this.$,arguments);return e&&e.length>0?e.length===this.$.length?this:new o(e,this.plain):this.plain?h:p}),a(v,"slice",function(t,n){var e=m.slice.apply(this.$,arguments);return e&&e.length>0?e.length===this.$.length?this:new o(e,this.plain):this.plain?h:p}),a(v,"first",function(t){if(void 0===t)return m.first.call(this.$);var n=m.first.call(this.$,t>>0);return n&&n.length>0?n.length>=this.$.length?this:new o(n,this.plain):this.plain?h:p}),a(v,"first-of",function(t){return m["first-of"].call(this.$,t)}),a(v,"last",function(t){if(void 0===t)return m.last.call(this.$);var n=m.last.call(this.$,t>>0);return n&&n.length>0?n.length>=this.$.length?this:new o(n,this.plain):this.plain?h:p}),a(v,"last-of",function(t){return m["last-of"].call(this.$,t)}),a(v,"concat",function(){var t=y.apply(this.$.slice(0),arguments);return t.length>this.$.length?new o(t,this.plain):this});var b=a(v,["merge","+"],function(){for(var t=this.$.slice(0),n=0;n<arguments.length;n++){var e=arguments[n];Array.isArray(e)?y.apply(t,m.select.call(e)):e instanceof o?t.push.apply(t,e.$):t.push(g(e))}return t.length>this.$.length?new o(t,this.plain):this});a(v,"to-array",function(){return this.$.slice(0)});var w=a(v,["equals","=="],function(t){if(this===t)return!0;if(!(t instanceof o)||this.plain!==t.plain||this.$.length!==t.$.length)return!1;for(var n=this.$,e=t.$,r=n.length-1;r>=0;r--)if(!l(n[r],"equals",e[r]))return!1;return!0});a(v,["not-equals","!="],function(t){return!w.call(this,t)}),a(v,"compare",function(t){return w.call(this,t)?0:null}),a(v,"is-empty",function(){return!(this.$.length>0)}),a(v,"not-empty",function(){return this.$.length>0});var x=function(n,e,r){if(Array.isArray(n)||(n=[]),"string"!=typeof e&&(e="  "),"string"!=typeof r&&(r=""),this.plain&&1===this.$.length)return n.length>0&&n.push(" "),this.$[0]instanceof o?x.call(this.$[0],n,e,r):n.push(l(this.$[0],"to-string")),n;var u,s,a="\n"+r;if(this.plain){for(u=0;u<this.$.length;u++)n.push(a),(s=this.$[u])instanceof o?x.call(s,n,e,r):n.push(l(s,"to-string"));return n}n.push("(");var c=!0;for(u=0;u<this.$.length;u++)(s=this.$[u])instanceof o?s.plain?s.$.length>0&&(x.call(s,n,e,r+e),s.$.length>1&&n.push(a)):(c?c=!1:n.push(" "),x.call(s,n,e,r)):(c||s===i.pairing||2===u&&"@"===n[1]&&":"===n[2]?c=!1:n.push(" "),n.push(t.thisCall(s,"to-string")));return n.push(")"),n};a(v,"to-string",function(t,n){return x.call(this,[],t,n).join("")});var O=a(v,":",function(t,n){return"string"==typeof t?c(this,v,t):t instanceof s?c(this,v,t.key):"number"!=typeof t?null:void 0===n?this.$[t]:new o(m.slice.apply(this.$,arguments),this.plain)});O.get=function(t){return v[t]},a(e,"indexer",O)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.operator,r=n.tuple,i=t.link;(0,t.prepareOperation)(e,i(e,"noop",t.operator(function(){return null},r.operator),!0),r.operator)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.lambda,r=n.tuple,i=t.link,o=t.bindThis,u=t.constambda,s=t.prepareOperation,a=t.prepareApplicable,l=i(e,"noop",t.lambda(function(){return null},r.lambda),!0);i(e,"static",t.constambda(function(){return null},r.stambda),!0);var c=e.proto;i(c,"is-static",function(){return!0===this.static||!0===this.const}),i(c,"is-const",function(){return!0===this.const}),i(c,"bind",function(t){return"function"==typeof this.bound?this:(void 0===t&&(t=null),!0!==this.static||void 0===this.this?o(t,this):u(this.bind(null,t),this.code))}),s(e,l,r.lambda),a(e,r.lambda)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.function,r=n.tuple,i=n.object,o=t.Tuple,u=t.link,s=t.bindThis,a=t.safelyAssign,l=t.prepareOperation,c=t.prepareApplicable;l(e,u(e,"noop",t.function(function(){return null},r.function),!0),r.function);var f=e.proto;u(f,"bind",function(t){return s(void 0!==t?t:null,this)}),u(f,["generic","$"],function(){return this["--generic"]||(this.code instanceof o?null:this["--generic"]=a(i.empty(),"function"==typeof this.bound?this.bound:this))}),c(e,r.function)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.iterator,r=n.array,i=t.Tuple,o=t.Symbol,u=t.Iterator,s=n.number.of,a=t.link,l=t.thisCall,c=t.boolValueOf,f=t.isApplicable,p=t.protoValueOf,h=t.sharedSymbolOf,d=t.iterateOf=function(t){return f(t)?t:f(t=l(t,"iterate"))?t:null},g=a(e,"empty",new u(null));a(e,"of",function(t){if(t instanceof u)return t;var n=d(t);return n?new u(n):g},!0);a(e,"of-unsafe",function(t){var n=d(t);return n?new u(function(t){var n;return function(e){if(void 0!==n&&c(e))return n;if(null===t)return null;var r=t();return r===n||Object.is(r,n)?t=null:n=r}}(n)):g},!0);var y=e.proto;a(y,"iterate",function(){return this.next}),a(y,"skip",function(t){if(t>>=0,!this.next||t<=0)return this;var n,e=this.next;return this.next=function(r){if(void 0!==n&&void 0!==r&&c(r))return n;for(var i;t>0;)if(i=e(),t--,null==i){e=null;break}return null==(i=e&&e())?null:n=i},this}),a(y,"keep",function(t){if(!this.next)return this;if((t>>=0)<=0)return this.next=null,this;var n,e=this.next;return this.next=function(r){if(void 0!==n&&void 0!==r&&c(r))return n;if(t<=0)return null;var i=e();return--t<=0&&(e=null),null==i?null:n=i},this}),a(y,"select",function(t){if(!this.next)return this;if(!f(t))return c(t)||(this.next=null),this;var n,e=this.next;return this.next=function(r){if(void 0!==n&&void 0!==r&&c(r))return n;for(var i=e&&e();null!=i;){if(c(Array.isArray(i)?t.apply(this,i):t.call(this,i)))return n=i;i=e()}return e=null},this}),a(y,"map",function(t){if(!this.next)return this;var n,e=f(t)?t:function(){return t},r=this.next;return this.next=function(t){if(void 0!==n&&void 0!==t&&c(t))return n;var i=r&&r();return null==i?r=null:(n=Array.isArray(i)?e.apply(this,i):e.call(this,i),Array.isArray(n)?n:n=[n])},this}),a(y,"reduce",function(t,n){if(!f(n)){if(!f(t))return void 0===t?v.call(this):m.call(this,t);n=t,t=null}for(var e,r=this.next&&this.next();null!=r;)Array.isArray(r)?(e=r.slice()).unshift(t):e=[t,r],t=n.apply(this,e),r=this.next();return this.next=null,t});var v=a(y,["count","for-each"],function(t){var n=0,e=this.next&&this.next();if(f(t))for(;void 0!==e&&null!=e;)c(Array.isArray(e)?t.apply(this,e):t.call(this,e))&&n++,e=this.next();else for(;void 0!==e&&null!=e;)n++,e=this.next();return this.next=null,n});a(y,"sum",function(t){for(var n="number"==typeof t?t:s(t),e=this.next&&this.next();void 0!==e&&null!=e;)Array.isArray(e)&&(e=e.length>0?e[0]:0),n+="number"==typeof e?e:s(e),e=this.next();return this.next=null,n}),a(y,"average",function(t){for(var n=0,e=0,r=this.next&&this.next();void 0!==r&&null!=r;)n++,Array.isArray(r)&&(r=r.length>0?r[0]:0),e+="number"==typeof r?r:s(r),r=this.next();return this.next=null,n>0&&!isNaN(e/=n)?e:"number"==typeof t?t:0}),a(y,"max",function(t){var n=null,e=this.next&&this.next();if(f(t))for(;void 0!==e&&null!=e;)Array.isArray(e)&&e.length>0&&(e=e[0],t.call(this,e)&&(null===n||l(e,"compare",n)>0)&&(n=e)),e=this.next();else for(;void 0!==e&&null!=e;)Array.isArray(e)&&e.length>0&&(e=e[0],(null===n||l(e,"compare",n)>0)&&(n=e)),e=this.next();return this.next=null,n}),a(y,"min",function(t){var n=null,e=this.next&&this.next();if(f(t))for(;void 0!==e&&null!=e;)Array.isArray(e)&&e.length>0&&(e=e[0],t.call(this,e)&&(null===n||l(e,"compare",n)<0)&&(n=e)),e=this.next();else for(;void 0!==e&&null!=e;)Array.isArray(e)&&e.length>0&&(e=e[0],(null===n||l(e,"compare",n)<0)&&(n=e)),e=this.next();return this.next=null,n}),a(y,"is-empty",function(){return!this.next}),a(y,"not-empty",function(){return!!this.next}),a(y,"join",function(t){var n="";"string"!=typeof t&&(t=" ");for(var e=this.next&&this.next();void 0!==e&&null!=e;)Array.isArray(e)&&(e=e.length>0?e[0]:""),n.length>0&&(n+=t),n+="string"==typeof e?e:l(e,"to-string"),e=this.next();return this.next=null,n}),a(y,"collect",function(t){Array.isArray(t)||(t=[]);for(var n=this.next&&this.next();void 0!==n&&null!=n;)t.push(Array.isArray(n)?n=n.length>0?n[0]:null:n),n=this.next();return this.next=null,t});var m=a(y,"finish",function(t){t=[t];for(var n=this.next&&this.next();void 0!==n&&null!=n;)t=n,n=this.next();return this.next=null,Array.isArray(t)?t.length>0?t[0]:null:t}),b=r.proto,w=h("of"),x=h("iterator"),O=new i([x,h("empty")]),j=a(y,"to-code",function(){if(!this.next)return O;var t=this.collect();return this.next=b.iterate.call(t),new i([x,w,b["to-code"].call(t)])}),$=n.tuple.proto["to-string"],A=$.call(O);a(y,"to-string",function(t){return this.next?$.call(j.call(this)):A});var N=a(y,":",function(t){return"string"==typeof t?p(this,y,t):t instanceof o?p(this,y,t.key):null});N.get=function(t){return y[t]},a(e,"indexer",N)}},function(t,n,e){"use strict";(function(n){t.exports=function(t){var e=t.$,r=e.promise,i=e.tuple,o=e.object,u=e.symbol,s=t.Symbol,a=t.Promise,l=t.link,c=t.export,f=t.isApplicable,p=t.protoValueOf,h=t.sharedSymbolOf;function d(t){return null!=t}var g=!0;function y(t,n){return d(t)?t:n&&d(n.excuse)?n.excuse:g}function v(t,n){return!0!==t.excusable&&(t.excusable=!0),f(n)&&(t.$cancel=n),t}function m(t,n){return t(Object.freeze(o.of({result:n})))}function b(t,n){return t(Object.freeze(o.of({excuse:y(n)})))}function w(t,n){return t instanceof a?v(t):f(t)?n?(e=t,v(new a(function(t,n){r=e(t,n)}),r)):function(t){var n;return v(new a(function(e,r){n=t(Object.freeze(o.of({resolve:e,reject:r})))}),n)}(t):(i=t,v(Array.isArray(i)?d(u=i[1])?a.reject(u):void 0===(u=i[0])||null===u?T:a.resolve(u):(u=y(i))===g?E:a.reject(u)));var e,r,i,u}function x(t,n){return function(e,r){Array.isArray(t)?d(t[1])?r(t[1]):e(void 0===t[0]?null:t[0]):r(y(t,n))}}function O(t){return function(n,e){e(t)}}function j(t){return f(t)?function(n){var e=t.apply(null,arguments);return e instanceof a?e.then.bind(e):f(e)?(e=w(e)).then.bind(e):x(e,n)}:function(n){return n&&d(n.excuse)?O(n.excuse):x(t)}}function $(t,n){return function(e,r){t.then(function(t){m(n,t)(e,r)},function(t){b(n,t)(e,r)})}}function A(t,n){return function(e){return e&&d(e.excuse)?O(e.excuse):$(t,n)}}function N(t,n){return function(e){var r=t.apply(null,arguments);return r instanceof a?$(r,n):f(r)?$(w(r),n):Array.isArray(r)?function(t,e){n.apply(null,r)(t,e)}:O(y(r,e))}}function S(t){Array.isArray(t)||(t=[]);for(var n=0;n<t.length;n++)t[n]=w(t[n]);return t}var k,T=l(r,"empty",a.resolve(null));k=function(t,n){return!0===t.excusable},"undefined"!=typeof window?window.addEventListener("unhandledrejection",function(t){var n=t.promise?t:t.detail;n.promise&&k(n.promise,n.reason)&&t.preventDefault()}):void 0!==n&&n.on("unhandledRejection",function(t,n){k(n,t)});var E=l(r,"nothing",a.reject(g));E.catch(function(){});var C=function(){return this};c(e,"commit",l(r,"of",function(t,n){var e=arguments.length-1;n=e>0?j(arguments[e]):null;for(var r=e-1;r>0;r--){var i=arguments[r];f(i)||(i=C.bind(i)),n=N(i,n)}return t=null==t?E:w(t),n?w(A(t,n)(),!0):t},!0)),l(r,"of-resolved",function(t){return null==t?T:v(a.resolve(t))},!0),l(r,"of-rejected",function(t){return(t=y(t))===g?E:v(a.reject(t))},!0),c(e,"commit*",l(r,"of-all",function(t){var n=S(Array.prototype.slice.call(arguments));return n.length>0?v(a.all(n)):T},!0)),l(r,"all",function(t){if(!Array.isArray(t))return T;var n=S(t);return n.length>0?v(a.all(n)):T},!0),c(e,"commit?",l(r,"of-any",function(t){var n=S(Array.prototype.slice.call(arguments));return n.length>1?v(a.race(n)):n.length>0?n[0]:E},!0)),l(r,"any",function(t){if(!Array.isArray(t))return E;var n=S(t);return n.length>1?v(a.race(n)):n.length>0?n[0]:E},!0);var I=r.proto;l(I,"is-cancellable",function(){return f(this.$cancel)}),l(I,"cancel",function(){return f(this.$cancel)?this.$cancel.apply(this,arguments):null}),l(I,"then",function(t){return void 0===t?this:w($(this,j(t)),!0)}),l(I,"finally",function(t){return f(t)&&this.then(m.bind(null,t),b.bind(null,t)),this}),l(I,"is-empty",function(){return this===T||this===E}),l(I,"not-empty",function(){return this!==T&&this!==E});var P=h("promise"),F=i.of(P,h("empty")),D=i.of(P,h("nothing")),R=i.of(P,h("of"),u.etc),_=l(I,"to-code",function(){return this===T?F:this===E?D:R});l(I,"to-string",function(){return _.call(this)["to-string"]()});var M=l(I,":",function(t,n){return"string"==typeof t?p(this,I,t):t instanceof s?p(this,I,t.key):null});M.get=function(t){return I[t]},l(r,"indexer",M)}}).call(this,e(1))},function(t,n,e){"use strict";function r(t,n){return(n>>=0)>=0?n:n+t}function i(t,n){return(n=r(t,n))<0?0:n}function o(t,n){return void 0===n?t:i(t,n)}function u(t){return t.length<=16||!t.isSparse}function s(t,n,e){switch(n-e){case 1:return;case 2:return void t.push("*");case 3:return void t.push("*","*");case 4:return void t.push("*","*","*");default:t.push("...")}}t.exports=function(t){var n=t.$,e=n.array,a=n.symbol,l=t.Tuple,c=t.Symbol,f=t.link,p=t.thisCall,h=t.iterateOf,d=t.boolValueOf,g=t.isApplicable,y=t.protoValueOf,v=t.EncodingContext,m=t.defineProperty;f(e,"empty",function(){return[]},!0),f(e,"of",function(t,n,e){switch(arguments.length){case 0:return[];case 1:return[t];case 2:return[t,n];case 3:return[t,n,e];default:return Array.prototype.slice.call(arguments)}},!0);var b=f(e,"from",function(){for(var t,n=[],e=0;e<arguments.length;e++){var r=arguments[e];if(Array.isArray(r))r<=16?n.push.apply(n,r):n=n.concat(r),t=t||r.isSparse;else{var i=h(r);if(i)for(var o=i();null!=o;)n.push(Array.isArray(o)?o.length>0?o[0]:null:o),o=i();else n.push(r)}}return t&&x.call(n),n},!0),w=e.proto;f(w,"length",function(){return this.length}),f(w,"is-sparse",function(){return this.isSparse||!1}),f(w,"not-sparse",function(){return!this.isSparse});var x=f(w,"as-sparse",function(t){return m(this,"isSparse",void 0===t||d(t)),this}),O=function(t){var n=0,e=0;if(g(t))for(;n<this.length;n++)void 0!==this[n]&&d(t.call(this,this[n],n))&&e++;else for(;n<this.length;n++)void 0!==this[n]&&e++;return e};f(w,["count","for-each"],Array.prototype.forEach?function(t){if(u(this))return O.call(this,t);var n=0;return g(t)?this.forEach(function(e,r){void 0!==e&&d(t.call(this,e,r))&&n++}):this.forEach(function(t){void 0!==t&&n++}),n}:O),f(w,"seal",function(){return Object.freeze(this)}),f(w,"is-sealed",function(){return Object.isFrozen(this)});var j=new Error("tracing.stopped"),$=function(t){var n;if(g(t))for(var e=0;e<this.length&&(void 0===(n=this[e])||!d(t.call(this,n,e)));e++);return this},A=f(w,"trace",Array.prototype.forEach?function(t){if(u(this))return $.call(this,t);if(g(t))try{this.forEach(function(n,e,r){if(void 0!==n&&d(t.call(r,n,e)))throw j},this)}catch(t){if(t!==j)throw t}return this}:$),N=function(t){var n;if(g(t))for(var e=this.length-1;e>=0&&(void 0===(n=this[e])||!d(t.call(this,n,e)));e--);return this},S=f(w,"retrace",Array.prototype.reduceRight?function(t){if(u(this))return N.call(this,t);if(g(t))try{this.reduceRight(function(n,e,r,i){if(void 0!==e&&d(t.call(i,e,r)))throw j},this)}catch(t){if(t!==j)throw t}return this}:N);f(w,"iterate",function(t,n){if(t=i(this.length,t),n=o(this.length,n),u(this))return function(t,n,e){var r;return function(i){if(void 0!==r&&void 0!==i&&d(i))return r;for(;n<e&&void 0===t[n];)n++;return n>=e?null:r=[t[n],n++]}}(this,t,n);var e,r=this,s=[];return A.call(this,function(e,r){return r>=n||r>=t&&s.push(r)&&!1}),t=0,n=s.length,function(i){if(void 0!==e&&void 0!==i&&d(i))return e;if(t>=n)return null;var o=s[t++];return e=[r[o],o]}}),f(w,"copy",function(t,n){t=i(this.length,t),(n=void 0===n?this.length:n>>0)<0&&(n=0);var e=this.slice(t,t+n);return this.isSparse?x.call(e):e}),f(w,"slice",function(t,n){var e=this.slice(i(this.length,t),o(this.length,n));return this.isSparse?x.call(e):e}),f(w,"concat",function(){var t=this.concat(Array.prototype.slice.call(arguments));return this.isSparse?x.call(t):t});var k=f(w,["append","+="],function(){for(var t,n=0;n<arguments.length;n++){var e=arguments[n];e=Array.isArray(e)?e:b(e),this.push.apply(this,e),t=t||e.isSparse}return t&&!this.isSparse?x.call(this):this});f(w,["merge","+"],function(){var t=this.slice();return this.isSparse&&x.call(t),k.apply(t,arguments)});var T=f(w,"get",function(t){return(t=r(this.length,t))>=0?this[t]:null}),E=f(w,"set",function(t,n){return(t=r(this.length,t))>16&&t+1>=this.length/2*3&&!this.isSparse&&x.call(this,!0),t<0?null:this[t]=void 0===n?null:n});f(w,"reset",function(t){for(var n=this.length,e=0;e<arguments.length;e++)(t=r(n,arguments[e]))>=0&&delete this[t];return this});var C=function(t){var n=arguments.length;if(n<1)this.splice(0);else for(var e=this.length-1;e>=0;e--)for(var r=0;r<n;r++)if(void 0!==(t=this[e])&&p(this[e],"equals",arguments[r])){this.splice(e,1);break}return this};f(w,"clear",function(t){var n=arguments.length;if(n<1)return this.splice(0),this;if(u(this))return C.apply(this,arguments);var e=Array.prototype.slice.call(arguments);return S.call(this,function(t,r){for(var i=0;i<n;i++)if(p(t,"equals",e[i]))return void this.splice(r,1)}),this});var I=function(t){for(var n=arguments.length,e=this.isSparse?x.call([]):[],r=0,i=0;r<this.length;r++)if(void 0!==(t=this[r])){for(var o=!0,u=0;u<n;u++)if(p(t,"equals",arguments[u])){o=!1;break}o&&(e[i++]=t)}else i++;return e};f(w,"remove",function(t){var n=arguments.length;if(n<1)return this.isSparse?x.call(this.slice()):this.slice();if(u(this))return I.apply(this,arguments);var e=Array.prototype.slice.call(arguments),r=this.isSparse?x.call([]):[],i=0;return A.call(this,function(t,o){for(var u=!0,s=0;s<n;s++)if(p(t,"equals",e[s])){u=!1;break}u?r[o-i]=t:i++}),r});f(w,"replace",function(t,n){return void 0===t?this:u(this)?function(t,n){var e,r;if(void 0===n)for(e=this.length-1;e>=0;e--)void 0!==(r=this[e])&&p(r,"equals",t)&&delete this[e];else for(e=0;e<this.length;e++)void 0!==(r=this[e])&&p(r,"equals",t)&&(this[e]=n);return this}.call(this,t,n):(void 0===n?S.call(this,function(n,e){p(n,"equals",t)&&delete this[e]}):A.call(this,function(e,r){p(e,"equals",t)&&(this[r]=n)}),this)}),f(w,"has",function(t){if(!g(t))return void 0!==this[r(this.length,t)];var n=!1;return A.call(this,function(e,r){return n=d(t.call(this,e,r))}),n});f(w,"contains",function(t){if(void 0===t)return!1;if(u(this))return function(t){for(var n,e=0;e<this.length;e++)if(void 0!==(n=this[e])&&p(n,"equals",t))return!0;return!1}.call(this,t);var n=!1;return A.call(this,function(e,r){return n=p(e,"equals",t)}),n}),f(w,"swap",function(t,n){var e=this.length;if((t=r(e,t))===(n=r(e,n))||t<0||t>=e||n<0||n>=e)return!1;var i=this[t];return void 0===this[n]?delete this[t]:this[t]=this[n],void 0===i?delete this[n]:this[n]=i,!0}),f(w,"first",function(t,n){if(void 0===t)return this[0];var e;if(g(t))return A.call(this,function(n,r){return!!d(t.call(this,n,r))&&((e=n)||!0)}),e;if((t>>=0)<=0)return[];var r=[];return g(n)?A.call(this,function(e,i){if(d(n.call(this,e,i)))return r.push(e),--t<=0}):A.call(this,function(n){return r.push(n),--t<=0}),r});var P=f(w,"first-of",function(t){if(void 0===t)return null;if(u(this))return function(t){for(var n=0;n<this.length;n++){var e=this[n];if(void 0!==e&&(e===t||p(e,"equals",t)))return n}return null}.call(this,t);var n=null;return A.call(this,function(e,r){return!(e!==t&&!p(e,"equals",t))&&((n=r)||!0)}),n});f(w,"last",function(t,n){if(void 0===t)return this[this.length-1];var e;if(g(t))return S.call(this,function(n,r){return!!d(t.call(this,n,r))&&((e=n)||!0)}),e;if((t>>=0)<=0)return[];var r=[];return g(n)?S.call(this,function(e,i){if(d(n.call(this,e,i)))return r.unshift(e),--t<=0}):S.call(this,function(n){return r.unshift(n),--t<=0}),r});f(w,"last-of",function(t){if(void 0===t)return null;if(u(this))return function(t){for(var n=this.length-1;n>=0;n--){var e=this[n];if(void 0!==e&&(e===t||p(e,"equals",t)))return n}return null}.call(this,t);var n=null;return S.call(this,function(e,r){return!(e!==t&&!p(e,"equals",t))&&((n=r)||!0)}),n}),f(w,"insert",function(t,n){if(t=i(this.length,t),arguments.length>2){var e=Array.prototype.slice.call(arguments,2);e.unshift(t,0,n),this.splice.apply(this,e)}else this.splice(t,0,n);return this}),f(w,"delete",function(t,n){return n=void 0===n?1:n>>0,(t=r(this.length,t))>=0&&this.splice(t,n),this}),f(w,"splice",function(t,n){if((t>>=0)<-this.length){if(arguments.length<3)return[];var e=Array.prototype.slice.call(arguments);return e[0]=0,e[1]=0,this.splice.apply(this,e)}switch(arguments.length){case 0:return this.splice();case 1:return this.splice(t);case 2:return this.splice(t,n);default:return this.splice.apply(this,arguments)}}),f(w,"push",function(){return Array.prototype.push.apply(this,arguments),this}),f(w,"pop",function(t){return void 0===t?this.pop():(t>>=0)>=this.length?this.splice(0):t>0?this.splice(this.length-t):this.splice(-1)}),f(w,"enqueue",function(){return this.unshift.apply(this,arguments),this}),w.dequeue=w.pop,f(w,"reverse",function(){return this.reverse()});var F=function(t,n){var e=p(t,"compare",n);return e>0?1:e<0?-1:0},D=function(t,n){var e=p(t,"compare",n);return e>0?-1:e<0?1:0};f(w,"sort",function(t,n){var e=!1;"function"==typeof t?n=t:t>>0>0&&(e=!0);var r="function"==typeof n?function(t,n){return t?function(t,e){var r=n(t,e);return r>0?-1:r<0?1:0}:function(t,e){var r=n(t,e);return r>0?1:r<0?-1:0}}(e,n):e?D:F;return this.sort(r)}),f(w,"find",function(t){var n=[];return g(t)?A.call(this,function(e,r){d(t.call(this,e,r))&&n.push(r)}):A.call(this,function(t,e){n.push(e)}),n}),f(w,"select",Array.prototype.filter?function(t){return g(t)?this.filter(function(n,e){return void 0!==n&&d(t.call(this,n,e))},this):this.filter(function(t){return void 0!==t},this)}:function(t){var n=[];return g(t)?A.call(this,function(e,r){d(t.call(this,e,r))&&n.push(e)}):A.call(this,function(t){n.push(t)}),n}),f(w,"map",Array.prototype.map?function(t){var n=g(t)?this.map(function(n,e){if(void 0!==n)return t.call(this,n,e)},this):this.slice();return this.isSparse&&x.call(n),n}:function(t){var n=this.slice();return this.isSparse&&x.call(n),g(t)&&A.call(this,function(e,r){var i=t.call(this,e,r);n[r]=void 0===i?null:i}),n}),f(w,"reduce",Array.prototype.reduce?function(t,n){if(!g(n)){if(!g(t))return t;n=t,t=null}return this.reduce(function(t,e,r,i){return void 0!==e?n.call(i,t,e,r):t},t)}:function(t,n){if(!g(n)){if(!g(t))return t;n=t,t=null}return A.call(this,function(e,r){t=n.call(this,t,e,r)}),t}),f(w,"join",Array.prototype.reduce?function(t){var n=-1,e=this.reduce(function(t,e,r,i){return void 0!==e&&(s(t,r,n),t.push("string"==typeof e?e:p(e,"to-string")),n=r),t},[]);return s(e,this.length,n),e.join("string"==typeof t?t:" ")}:function(t){var n=-1,e=[];return A.call(this,function(t,r){s(e,r,n),e.push("string"==typeof t?t:p(t,"to-string")),n=r}),s(e,this.length,n),e.join("string"==typeof t?t:" ")}),f(w,"is-empty",function(){return!(this.length>0)}),f(w,"not-empty",function(){return this.length>0});var R=f(w,"to-code",function(t){if(t instanceof v){var n=t.begin(this);if(n)return n}else t=new v(this);var r=[a.literal],i=-1;return A.call(this,function(n,e){n=t.encode(n),e-i>1?r.push(e,a.pairing,n):r.push(n),i=e}),t.end(this,e,new l(r))});f(w,"to-string",function(){return p(R.call(this),"to-string")});var _=f(w,":",function(t,n){return"number"==typeof t?void 0===n?T.call(this,t):E.call(this,t,n):"string"==typeof t?y(this,w,t):t instanceof c?y(this,w,t.key):P.call(this,t)});_.get=function(t){return w[t]},f(e,"indexer",_)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.object,r=n.symbol,i=t.Tuple,o=t.link,u=t.Symbol,s=t.Object,a=t.isObject,l=t.thisCall,c=t.ClassType,f=t.ownsProperty,p=t.protoValueOf,h=t.encodeFieldName,d=t.EncodingContext,g=o(e,"empty",Object.create.bind(Object,e.proto));o(e,"of",function(){var t=arguments.length;if(t<1)return g();for(var n=[g()],e=0;e<t;e++)a(arguments[e])&&n.push(arguments[e]);return Object.assign.apply(Object,n)},!0),o(e,"of-generic",function(){if(arguments.length<1)return{};var t=Array.prototype.slice.call(arguments);return t.unshift({}),Object.assign.apply(Object,t)},!0),o(e,"is-generic",function(t){return a(t)&&Object.getPrototypeOf(t)===Object.prototype},!0),o(e,"not-generic",function(t){return!a(t)||Object.getPrototypeOf(t)!==Object.prototype},!0),o(e,"of-plain",function(){if(arguments.length<1)return Object.create(null);var t=Array.prototype.slice.call(arguments);return t.unshift(Object.create(null)),Object.assign.apply(Object,t)},!0),o(e,"is-plain",function(t){return a(t)&&null===Object.getPrototypeOf(t)},!0),o(e,"not-plain",function(t){return!a(t)||null!==Object.getPrototypeOf(t)},!0),o(e,"assign",function(t){if(a(t)){for(var n=1;n<arguments.length;n++){var e=arguments[n];e instanceof s&&Object.assign(t,e)}return t}return null},!0),o(e,"get",function(t,n,e){if(n instanceof u)n=n.key;else if("string"!=typeof n)return e;var r;return a(t)?f(t,n)?void 0===t[n]?e:t[n]:void 0===(r=p(t,t,n))?e:r:e},!0),o(e,"set",function(t,n,e){if(n instanceof u)n=n.key;else if("string"!=typeof n)return null;return a(t)?t[n]=void 0!==e?e:null:null},!0),o(e,"reset",function(t,n,e){if(!a(t))return 0;if(void 0===e)return n instanceof u&&(n=n.key),"string"!=typeof n?0:delete t[n]?1:0;var r=1,i=0;do{"string"==typeof n?delete t[n]&&i++:n instanceof u&&delete t[n.key]&&i++,n=arguments[++r]}while(r<arguments.length);return i},!0),o(e,"copy",function(t,n){if(!a(t))return null;for(var e=Object.create(t.type.proto),r=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i];o instanceof u&&(o=o.key),"string"==typeof o&&(e[o]=t[o])}var s=t.type.proto.activator;return"function"==typeof s&&s.call(e,e),e},!0),o(e,"clear",function(t,n){if(!a(t))return null;for(var e=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(t),r=0;r<e.length;r++){var i=e[r];"string"==typeof i?delete t[i]:i instanceof u&&delete t[i.key]}return t},!0),o(e,"remove",function(t,n){if(!a(t))return null;for(var e=Object.assign(Object.create(t.type.proto),t),r=arguments.length<=1?[]:Array.prototype.slice.call(arguments,1),i=0;i<r.length;i++){var o=r[i];if("string"==typeof o)delete e[o];else if(o instanceof u)delete e[o.key];else if(o instanceof s){n=Object.getOwnPropertyNames(o);for(var l=0;l<n.length;l++)delete e[n[l]]}}var c=t.type.proto.activator;return"function"==typeof c&&c.call(e,e),e},!0),o(e,"has",function(t,n){if("string"!=typeof n){if(!(n instanceof u))return!1;n=n.key}return a(t)&&void 0!==t[n]},!0),o(e,"owns",function(t,n){if("string"!=typeof n){if(!(n instanceof u))return!1;n=n.key}return a(t)&&f(t,n)},!0),o(e,"fields-of",function(t){return a(t)?Object.getOwnPropertyNames(t):[]},!0),o(e,"seal",function(t){return void 0===t?e:a(t)||Array.isArray(t)?Object.freeze(t):null}),o(e,"is-sealed",function(t){return void 0===t||!(!a(t)&&!Array.isArray(t))&&Object.isFrozen(t)});var y=e.proto;o(y,"iterate",function(){var t,n=Object.getOwnPropertyNames(this),e=this,r=null,i=0;return function(o){return null!==r&&!0===o?r:i>=n.length?null:r=[t=n[i++],e[t]]}}),o(y,["is-a","is-an"],function(t){return t===e}),o(y,["is-not-a","is-not-an"],function(t){return t!==e}),o(y,"is-empty",function(){return!(Object.getOwnPropertyNames(this).length>0)}),o(y,"not-empty",function(){return Object.getOwnPropertyNames(this).length>0});var v=n.type.of,m=o(y,"to-code",function(t){if(t instanceof d){var n=t.begin(this);if(n)return n}else t=new d(this);for(var e=Object.getOwnPropertyNames(this),o=[r.literal],u=0;u<e.length;u++){var s=e[u];o.push(h(s),r.pairing,t.encode(this[s]))}o.length<2&&o.push(r.pairing);var a=this.type instanceof c?this.type:v(this);return t.end(this,a,new i(o))});o(y,"to-string",function(){return l(m.call(this),"to-string")});var b=o(y,":",function(t,n){if("string"!=typeof t){if(!(t instanceof u))return null;t=t.key}return void 0===n?void 0===y[t]||"type"===t?this[t]:p(this,y,t):this[t]=n});b.get=function(t){return void 0===y[t]||"type"===t?this[t]:y[t]},o(e,"indexer",b)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.class,r=n.type,i=n.tuple,o=n.symbol,u=n.object,s=t.Tuple,a=t.Symbol,l=t.ClassType,c=t.ClassInst,f=t.link,p=t.typeOf,h=t.bindThis,d=t.isObject,g=t.thisCall,y=t.boolValueOf,v=t.createClass,m=t.isApplicable,b=t.ownsProperty,w=t.protoValueOf,x=t.sharedSymbolOf,O=t.EncodingContext;f(e,"empty",v,!0),f(e,"of",function(){return N.apply(v(),arguments)},!0);var j=u.assign;f(e,"attach",function(t){if(t instanceof c){for(var n=1;n<arguments.length;n++){var e=arguments[n];d(e)&&(Object.assign(t,e),D.call(t,e))}return t}return j.apply(u,arguments)},!0);var $=e.proto;f($,"empty",function(){return Object.create(this.proto)}),f($,"default",function(){return F.call(Object.create(this.proto))}),f($,"of",function(){return F.apply(Object.create(this.proto),arguments)}),f($,"from",function(){for(var t=Object.create(this.proto),n=0;n<arguments.length;n++){var e=arguments[n];d(e)&&(Object.assign(t,e),D.call(t,e))}return t});var A=i.accepts,N=f($,"as",function(){if(Object.isFrozen(this))return this;for(var t=Object.create(null),n=Object.create(null),e=Array.prototype.slice.call(arguments),r=0;r<e.length;r++){var i,o,u,s,a=e[r];a instanceof l?(i=a,o=a.proto):d(a)?(o=a,d(a.type)?i=a.type:(a.type instanceof l&&e.splice(r+1,0,a.type),i={})):(i={},o={});var c,f=Object.getOwnPropertyNames(i);for(u=0;u<f.length;u++)"indexer"===(s=f[u])?!b(n,":")&&m(i.indexer)&&(n[":"]=i.indexer):void 0!==this[s]||b(t,s)||"name"===s&&i instanceof l||(t[s]=i[s]);for(f=Object.getOwnPropertyNames(o),u=0;u<f.length;u++)"type"===(s=f[u])||b(this.proto,s)||b(n,s)||(c=o[s],n[s]=A(c)||"function"==typeof c?c:null)}return Object.assign(this,t),Object.assign(this.proto,n),this}),S=f($,"to-object",function(){var t,n,e,r,i=u.empty(),o=Object.getOwnPropertyNames(this.proto);for(t=0;t<o.length;t++)"type"!==(n=o[t])&&(e=this.proto[n],i[n]=m(e)?g(e,"bind",void 0!==r?r:r=this.empty()):e);var s=u.empty(),a=!1;for(o=Object.getOwnPropertyNames(this),t=0;t<o.length;t++)"proto"!==(n=o[t])&&(e=this[n],s[n]=m(e)?g(e,"bind",this):e,a=!0);return a&&(i.type=s),i});f($,"seal",function(){return Object.freeze(this)}),f($,"is-sealed",function(){return Object.isFrozen(this)}),f($,["is-a","is-an"],function(t){return t===e||t===r}),f($,["is-not-a","is-not-an"],function(t){return t!==e&&t!==r}),f($,"is-empty",function(){return!(Object.getOwnPropertyNames(this.proto).length>1||Object.getOwnPropertyNames(this).length>(b(this,"name")?2:1))}),f($,"not-empty",function(){return Object.getOwnPropertyNames(this.proto).length>1||Object.getOwnPropertyNames(this).length>(b(this,"name")?2:1)});var k=f($,"to-code",function(){return"string"==typeof this.name&&this.name?x(this.name.trim()):o.empty}),T=x("class"),E=x("of"),C=u.proto["to-code"],I=i.proto["to-string"];f($,"to-string",function(){var t=k.call(this);return t!==o.empty?g(t,"to-string"):((t=C.call(S.call(this))).$[0]===o.literal?t.$[1]===o.pairing?t.$.splice(2,0,T):t.$.splice(1,0,o.pairing,T):t=new s([T,E,t]),I.call(t))});var P=$.proto,F=f(P,"constructor",function(){if(this.constructor!==F)this.constructor.apply(this,arguments);else{var t=[this];t.push.apply(t,arguments),u.assign.apply(u,t)}return this}),D=f(P,"activator",function(t){return this.activator!==D&&this.activator(t),this});f(P,"as",function(t,n){if(!(t instanceof l))return null;var e;if(n instanceof a?n=n.key:"string"==typeof n&&n||(n=null),n)return e=t.proto[n],m(e)?h(this,e):e;for(var r=Object.getOwnPropertyNames(t.proto),i=Object.create(u.proto),o=0;o<r.length;o++){var s=r[o];e=t.proto[s],i[s]=m(e)?h(this,e):e}return i});var R=f(P,["is","==="],function(t){return this===t||this.is!==R&&m(this.is)&&y(this.is(t))});f(P,["is-not","!=="],function(t){return!R.call(this,t)});var _=f(P,["equals","=="],function(t){return this===t||R.call(this,t)||this.equals!==_&&m(this.equals)&&y(this.equals(t))});f(P,["not-equals","!="],function(t){return!_.call(this,t)});var M=f(P,"compare",function(t){var n;return this===t||_.call(this,t)?0:this.compare!==M&&m(this.compare)?(n=this.compare(t))>0?1:n<0?-1:0===n?0:null:null}),L=f(P,"is-empty",function(){var t=this["is-empty"];return t!==L&&m(t)?y(t.call(this)):Object.getOwnPropertyNames(this).length<1});f(P,"not-empty",function(){return!L.call(this)});var q=f(P,["is-a","is-an"],function(t){if(t===u||this.type instanceof l&&t===this.type)return!0;var n=this["is-a"];if(n!==q&&m(n))return y(n.call(this,t));if(!(t instanceof l&&t.proto))return!1;for(var e=Object.getOwnPropertyNames(t.proto),r=0;r<e.length;r++)if(void 0===this[e[r]])return!1;return!0});f(P,["is-not-a","is-not-an"],function(t){return!q.call(this,t)});var U=f(P,"to-code",function(t){var n=this["to-code"];if(n===U||"function"!=typeof n)return C.call(this,t);if(t instanceof O){var e=t.begin(this);if(e)return e}else t=new O(this);var r=n.call(this);return p(r)===u?t.end(this,this.type,C.call(r)):r instanceof s&&!0!==r.plain?t.end(this,u,r):t.end(this,this.type,C.call(this))}),z=f(P,"to-string",function(){var t=this["to-string"];return t===z||"function"!=typeof t?g(U.call(this),"to-string"):t.apply(this,arguments)}),B=f(P,":",function(t,n){var e;return"string"==typeof t?e=B:t instanceof a?(t=t.key,e=B):e=this[":"],void 0!==n?"string"==typeof t?this[t]=n:e===B?null:e.apply(this,arguments):"string"!=typeof t?e===B?null:e.call(this,t):"function"==typeof(n=w(this,p(this).proto||P,t))?n:this[t]});B.get=function(t){var n=P[t];return"function"==typeof n?n:this[t]},f($,"indexer",B)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=t.export,r=t.sharedSymbolOf;e(n,"",null),e(n,"*",null),e(n,"...",null),e(n,"null",null),e(n,"true",!0),e(n,"false",!1),e(n,"\\",r("\\")),e(n,"(",r("(")),e(n,")",r(")")),e(n,",",r(",")),e(n,";",r(";")),e(n,".",r(".")),e(n,"@",r("@")),e(n,":",r(":")),e(n,"$",r("$")),e(n,"#",r("#")),e(n,"[",r("[")),e(n,"]",r("]")),e(n,"{",r("{")),e(n,"}",r("}")),e(n,"&&",r("&&")),e(n,"and",r("and")),e(n,"||",r("||")),e(n,"or",r("or")),e(n,"else",r("else")),e(n,r("descending").key,1),e(n,r("equivalent").key,0),e(n,r("ascending").key,-1);for(var i=["type","bool","string","number","date","range","symbol","tuple","operator","lambda","function","array","iterator","promise","object","class"],o=0;o<i.length;o++)r(i[o])}},function(t,n,e){"use strict";t.exports=function(t,n){var e=t.Symbol,r=t.export,i=t.thisCall,o=t.staticOperator;r(t,"$print",function(t){return n.print.apply(n,arguments)}),r(t,"$printf",function(t,e){return n.printf(void 0===t?"":t,void 0===e?null:e)});var u=null;function s(){var t=Date.now();return u&&t===u[1][0]?[t,u[1][1]+1]:[t,0]}r(t,"$warn",function(t){if(void 0===t)return u;if("string"!=typeof t&&null!==t)u=["stdout:warn",s(),"category should be a string:",t];else{if(!t)return u=["",s()];u=[t,s()].concat(Array.prototype.slice.call(arguments,1))}return n.warn.apply(n,u),u});var a=function(t){return i(t,"to-string")},l=function(n,e){return(l=t.evaluate)(n,e)},c=function(n){return(c=t.env)(n)};o("debug",function(e,r){var i=r.$;if(i.length<2||!e.app)return null;for(var o=[a(r),"\n "],s=1;s<i.length;s++)s>1&&o.push("\n "),o.push(a(i[s]),"=",l(i[s],e));return!0===c("is-debugging")?n.debug.apply(n,o):t.env("logging-level")>=2&&(u=["stdout:debug","(debug ...) is only for temporary usage in coding.","Please consider to remove it or replace it with (log d ...) for",r],n.warn.apply(n,u)),o[o.length-1]}),o("log",function(r,i){var o=i.$;if(o.length<2||!r.app)return!1;var s=function(r){if(r instanceof e)r=r.key;else if("string"!=typeof r)return!1;switch(r.toLowerCase()){case"d":case"debug":return!0===t.env("is-debugging")?n.debug:null;case"v":case"verbose":return t.env("logging-level")>=4?n.verbose:null;case"i":case"info":return t.env("logging-level")>=3?n.info:null;case"w":case"warn":case"warning":return t.env("logging-level")>=2?n.warn:null;case"e":case"err":case"error":return t.env("logging-level")>=1?n.error:null;default:return!1}}(o[1]);if(null===s)return!1;if(!s)return u=["stdout:log","invalid log level (v/i/w/e/d):",o[1],"in clause",i],n.warn.apply(n,u),!1;for(var a=[],c=2;c<o.length;c++)a.push(l(o[c],r));return s.apply(n,a),!0})}},function(t,n,e){"use strict";function r(t,n){var e;try{e=parseInt(t)}catch(t){return t}return e<0?(e+=n)<0&&(e=n):e>=n&&(e=n),e}function i(t,n,e,r,i){if(n>=t.length)return"...";var o,u=t[n];return u?"string"!=typeof r||"string"==typeof e?null!==u[0]?u[0]:u[0]="string"==typeof e?e:i(e,"to-string"):(o=u[1]||(u[1]=Object.create(null)))[r]||(o[r]=i(e,"to-string",r)):(u=t[n]=[null,null],"string"!=typeof r||"string"==typeof e?u[0]="string"==typeof e?e:i(e,"to-string"):(o=u[1]=Object.create(null))[r]=i(e,"to-string",r))}t.exports=function(t){var n=t.$,e=t.$warn,o=t.link,u=t.thisCall;o(n.string,"unescape",function(t){if("string"!=typeof t)return e("string:unescape","a string source should be a string.","\n",t),null;if(!t.startsWith('"'))return e("string:unescape","a string source should start with a '\"'.","\n",t),t;if(!t.endsWith('"'))return e("string:unescape","a string source should end with a '\"'.","\n",t),t;var n,r;try{n=JSON.parse(t)}catch(t){r=t}return"string"==typeof n?n:(e("string:unescape","[JSON] invalid string input: ",r&&r.message||"unknown error.","\n",t),t.substring(1,t.length-1))},!0),o(n.string,"format",function(t){if("string"!=typeof t)return e("string:format","the pattern must be a string.",t),null;var n=[];arguments.length>1&&(n[arguments.length-2]=void 0);for(var o,s,a,l,c,f=[],p=0,h=0;p<t.length;)if("{"===(o=t[p++]))if("{"!==t[p]){if((s=t.indexOf("}",p))<p&&(s=t.length,e("string:format",'missing an ending "}".',t,p)),a=t.substring(p,s),p=s+1,(s=a.indexOf(":"))<0&&(s=a.length),l=a.substring(0,s))l=r(l,n.length);else{if(h>=n.length){h++;continue}l=h}"number"!=typeof l?(e("string:format","invalid offset value gets ignored",t,p,a.substring(0,s)),l=h):l>=n.length&&e("string:format","offset value is out of range",t,l,n.length-1),c=s<a.length?a.substring(s+1):null,f.push(i(n,l,arguments[l+1],c,u)),h++}else f.push("{"),p++;else f.push(o);return f.join("")},!0),t.formatPattern=function(t){if(t.indexOf("$")<0)return[t];for(var n="",r=[],i="",o=0,u=[],s=function(t){r.push("{"+u.length+"}"),u.push(t?n+t:n),n="",i="",o=0},a=function(t){switch(i){case"$":n.length>0?s():(r.push("$"),i="");break;case" ":s();break;case"(":s(t),")"!==t&&e("format:pattern","missing ending parenthesis.",n)}},l=0;l<t.length;l++){var c=t[l];switch(i){case"$":switch(c){case"$":r.push("$"),i="";break;case"(":n.length>0?(a(),r.push("(")):(n+="(",i="(",o=1);break;default:/\)|\s/.test(c)?(a(),r.push(c)):(n+=c,i=" ")}break;case" ":"$"===c?(a(),i="$"):/\(|\)|\s/.test(c)?(a(),r.push(c)):n+=c;break;case"(":")"===c?--o>0?n+=c:a(")"):("("===c&&(o+=1),n+=c);break;default:"$"===c?i="$":r.push(c)}}return a(),[r.join("")].concat(u)}}},function(t,n,e){"use strict";var r="undefined"!=typeof window&&("undefined"!=typeof firefox||navigator.userAgent.indexOf("Firefox/")>0);t.exports=function(t){var n=t.$,e=t.link,i=t.export,o=t.thisCall,u=(0,t.copyType)(n.object.empty(),Math,{E:"e",PI:"pi",LN2:"ln2",LN10:"ln10",LOG10E:"log-e",LOG2E:"log2-e",SQRT2:"sqrt-2",SQRT1_2:"sqrt-1/2",sin:"sin",cos:"cos",tan:"tan",asin:"asin",acos:"acos",atan:"atan",atan2:"atan2",exp:"exp",pow:"pow",log:"ln",log10:"log",log2:"log2",sqrt:"sqrt",abs:"abs",max:"max",min:"min",random:"random"});r&&e(u,"exp",function(t){return 1===t?Math.E:Math.exp(t)},!0),i(n,"math",u),i(n,"max",function(t,n){switch(arguments.length){case 0:return null;case 1:return t;case 2:return null==t?n:-1===o(t,"compare",n)?n:t}for(var e=1;e<arguments.length;e++)null!=(n=arguments[e])&&(null!=t&&1!==o(n,"compare",t)||(t=n));return t}),i(n,"min",function(t,n){switch(arguments.length){case 0:return null;case 1:return t;case 2:return null==t?n:1===o(t,"compare",n)?n:t}for(var e=1;e<arguments.length;e++)null!=(n=arguments[e])&&(null!=t&&-1!==o(n,"compare",t)||(t=n));return t})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.object,r=t.link,i=t.export,o=e.empty();r(o,"encode",function(t){return"string"!=typeof t?null:encodeURI(t)}),r(o,"decode",function(t,n){if("string"!=typeof t)return void 0===n?null:n;if(void 0===n)return decodeURI(t);try{return decodeURI(t)}catch(t){return n}}),r(o,"escape",function(t){return"string"!=typeof t?null:encodeURIComponent(t)}),r(o,"unescape",function(t,n){if("string"!=typeof t)return void 0===n?null:n;if(void 0===n)return decodeURIComponent(t);try{return decodeURIComponent(t)}catch(t){return n}}),i(n,"uri",o)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.object,r=t.link,i=t.export,o=e.empty();r(o,"of",function(t,n){try{return void 0===t?"null":JSON.stringify(t,null,"  ")}catch(t){return void 0===n?null:n}}),r(o,"parse",function(t,n){void 0===n&&(n=null);try{return"string"==typeof t?JSON.parse(t):n}catch(t){return n}}),i(n,"json",o)}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.object,r=t.Object,i=t.link,o=t.export,u=t.thisCall,s=t.createClass,a=t.isApplicable,l=s(),c=l.proto;i(c,"listeners",null),i(c,"constructor",function(){for(var t=this.listeners=e.empty(),n=0;n<arguments.length;n++){var r=arguments[n];"string"==typeof r&&(t[r]=[])}}),i(c,"activator",function(){if(this.listeners instanceof r)for(var t=Object.getOwnPropertyNames(this.listeners),n=0;n<t.length;n++){var i=this.listeners[t[n]];if(Array.isArray(i))for(var o=i.length-1;o>=0;o--)u(i[o],"is-empty")&&i.splice(o,1)}else this.listeners=e.empty()}),i(c,"on",function(t,n){if(!(this.listeners instanceof r))return null;if("string"!=typeof t)return Object.getOwnPropertyNames(this.listeners);if(!a(n))return this.listeners[t]||null;var e=this.listeners[t];return Array.isArray(e)?(e.push(n),e):null}),i(c,"off",function(t,n){if(!(this.listeners instanceof r))return null;var e,i;if("string"!=typeof t){var o=Object.getOwnPropertyNames(this.listeners);for(e=0;e<o.length;e++)i=this.listeners[o[e]],Array.isArray(i)&&i.splice(0);return o}if(i=this.listeners[t],!Array.isArray(i))return null;if(!a(n))return i.splice(0),i;for(e=0;e<i.length;e++)if(i[e]===n){i.splice(e,1);break}return i}),i(c,"emit",function(t,n){if(!(this.listeners instanceof r)||"string"!=typeof t)return null;var e=this.listeners[t];if(!Array.isArray(e))return null;void 0===n&&(n=t);for(var i=!1,o=0;o<e.length;o++){var u=e[o];if(a(u)){if(!0===u(n,this,t))return!0;i=!0}}return i}),o(n,"emitter",l)}},function(t,n,e){"use strict";function r(t,n){return"number"!=typeof t?n||0:(t>>=0)<=0?n||0:t}t.exports=function(t){var n=t.$,e=n.emitter,i=n.promise.of,o=t.link,u=t.export,s=t.createClass,a=t.isApplicable,l=t.ownsProperty,c=s().as(e);o(c,"timeout",function(t,n){if(a(t))n=t,t=0;else if(t=r(t),!a(n))return t;return setTimeout(n.bind(null,t),t),t}),o(c,"countdown",function(t){return t=r(t),i(function(n){var e=setTimeout(function(){null!==e&&(e=null,n.resolve(t))},t);return function(){return null!==e&&(clearTimeout(e),e=null,n.reject(t)),t}})});var f=c.proto;o(f,"constructor",function(t,n){e.proto.constructor.call(this,"started","elapsed","stopped"),this.interval=r(t,1e3),a(n)&&this.on("elapsed",n)}),o(f,"activator",function(){e.proto.activator.apply(this,arguments),this.interval=r(this.interval,1e3);var t=this.listeners,n=function(n){Array.isArray(t[n])||(t[n]=[])};n("started"),n("elapsed"),n("stopped"),l.call(this,"stop")&&delete this.stop}),o(f,"start",function(t){if(this.stop!==p)return this;void 0===t&&(t=this.interval);var n=setInterval(function(){this.emit("elapsed",t)}.bind(this),this.interval);return this.stop=function(){null!==n&&(clearInterval(n),n=null,this.emit("stopped",t))}.bind(this),this.emit("started",t),this}),o(f,"is-elapsing",function(){return this.stop!==p});var p=o(f,"stop",function(){return this.stop!==p&&a(this.stop)&&(this.stop(),delete this.stop),this});u(t,"$timer",c)}},function(t,n,e){"use strict";function r(t){for(var n=t.split(/[_-\s]+/g),e=!1,r=0,o=n.length;r<o;r++){var u=i(n[r]);u!==n[r]&&(n[r]=u,e=!0)}return n.length>1||e?n.join("-"):t}function i(t){for(var n=[],e="",r=!1,i=0,o=t.length;i<o;i++){var u=t.charAt(i);if(u===u.toLocaleLowerCase())e+=u,r=!1;else{e&&!r&&(n.push(e.toLocaleLowerCase()),e="");var s=++i<o?t[i]:"";s?s!==s.toLocaleLowerCase()?(e+=u,i--,r=!0):(e&&n.push(e.toLocaleLowerCase()),e=u+s,r=!1):(r?n.push((e+u).toLocaleLowerCase()):n.push(u.toLocaleLowerCase()),e="")}}return e&&n.push(e.toLocaleLowerCase()),n.join("-")}function o(t,n){return t&&"string"==typeof t?void 0!==n?this[t]=n:(delete this[t],null):null}t.exports=function(t){var n=t.$,e=n.class,i=n.object,u=n.function,s=t.typeOf,a=t.export,l=t.ownsProperty,c=t.safelyAssign,f=u.proto.generic;a(t,"$espress",function(t){if("string"==typeof t)return r(t);var n,a,p=s(t);if(p===u&&(p=(n=f.call(t))?i:null,t.bound&&(t=t.bound)),p===i)a=i.proto;else{if(s(p)!==e)return null;a=e.proto.proto}n||(n=c(i.empty(),t,!0));var h=i.empty();for(var d in h["set-"]=o.bind(t),n)if(void 0===a[d]||l(t,d)){var g=r(d);h[g]=n[d],l(t,d)&&(h["set-"+g]=o.bind(t,d))}return h||t})}},function(t,n,e){"use strict";var r=e(47);t.exports=function(t){var n=t.$,e=t.export,i=n.object.empty,o=Object.assign(Object.create(null),{"runtime-core":"js","runtime-host":t.isNativeHost?"native":"browser","runtime-version":r.version,"is-debugging":!0,"logging-level":3});e(t,"$env",function(t,n){return null==t?Object.assign(i(),o):"string"!=typeof t?null:void 0!==o[t]?o[t]:void 0!==n?n:null}),t.env=function(t,n){return void 0===n?o[t]:o[t]=n},t.runtime=function(n,e){return n="runtime-"+n,t.env(n,e)}}},function(t){t.exports=JSON.parse('{"name":"eslang","version":"1.0.6","author":{"email":"leevi@nirlstudio.com","name":"Leevi Li"},"license":"MIT","repository":"nirlstudio/eslang","description":"A simple & expressive script language, like Espresso.","keywords":["es","eslang","espresso","espressolang","espresso-lang","script language","programming lang","programming language"],"main":"index.js","scripts":{"test":"node . selftest","check":"node test/test.js","build":"webpack","rebuild":"rm -rf dist/www; rm dist/*; rm dist/.cache*; webpack","build-dev":"webpack","build-prod":"webpack --mode=production","clean":"rm -rf dist/www; rm dist/*; rm dist/.cache*","start":"webpack-dev-server --mode development","prod":"webpack-dev-server --mode production"},"bin":{"es":"bin/es","eslang":"bin/eslang"},"dependencies":{"axios":"^0.19.0","colors":"^1.3.3","node-localstorage":"^1.3.1"},"devDependencies":{"hooks-webpack-plugin":"^1.0.3","html-webpack-plugin":"^3.2.0","shelljs":"^0.8.3","webpack":"^4.36.1","webpack-cli":"^3.3.6","webpack-dev-server":"^3.7.2"}}')},function(t,n,e){"use strict";t.exports=function(t){t.Signal=function(t,n,e){this.id=t,this.count=n,this.value=e}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.object,r=t.ClassInst,i=t.isObject,o=t.indexerOf,u=t.defineConst,s=t.ownsProperty,a=Object.freeze([]),l=n.tuple["atom-of"];function c(t,n,e,r){this.local=t,this.context=e||Object.create(t),n&&(this.locals=n),r&&(this.exporting=r)}function f(t,n){this.$=n,this.context=Object.create(t.context),this.local=t.local,t.locals&&(this.locals=t.locals),t.app&&(this.app=t.app,this.modules=t.modules)}t.atomicArrayOf=function(t){for(var n=[],e=0;e<t.length;e++)n.push(l(t[e]));return n},t.Space=c,c.prototype=Object.assign(Object.create(null),{resolve:function(t){var e=n[t];if(void 0!==e)return e;if(void 0!==(e=this.context[t]))return e;var r=this.context.this;return null==r?null:o(r).call(r,t)},$resolve:function(t){return void 0===n[t]?null:n[t]},var:function(t,n){return this.local[t]=n},const:function(t,n){return u(this.local,t,n)},lvar:function(t,n){return this.context[t]=n},lconst:function(t,n){return u(this.context,t,n)},let:function(t,n){if(s(this.local,t))return this.local[t]=n;if(this.locals)for(var e=this.locals.length-1;e>=0;e--)if(s(this.locals[e],t))return this.locals[e][t]=n;var u=this.context.this;return i(u)&&(s(u,t)||u instanceof r&&"type"!==t&&s(u.type.proto,t))?o(u).call(u,t,n):this.local[t]=n},export:function(t,n){return this.exporting&&void 0===this.exporting[t]&&(this.exporting[t]=n),this.var(t,n)},populate:function(t){if(Array.isArray(t))this.context.arguments=t.length<1?a:Object.isFrozen(t)?t:Object.freeze(t);else if(null!==t&&"object"==typeof t)for(var n=Object.getOwnPropertyNames(t),e=0;e<n.length;e++){var r=n[e];switch(r){case"this":this.context.this=t.this;break;case"arguments":Array.isArray(t.arguments)&&(this.context.arguments=t.arguments.length<1?a:Object.isFrozen(t.arguments)?t.arguments:Object.freeze(t.arguments.slice()));break;default:this.local[r]=t[r]}}},prepare:function(t,n,e){this.context.do=t,this.context.this=void 0===n?null:n,this.context.arguments=e.length<1?a:Object.freeze(e)},prepareOp:function(t,n,e){this.context.operation=t,this.context.operand=n,this.context.that=void 0!==e?e:null},reserve:function(){return this._reserved||(this._reserved={local:this.local,locals:this.locals,app:this.app,modules:this.modules})},bindOperators:function(){t.bindOperatorFetch(this),t.bindOperatorImport(this),t.bindOperatorLoad(this)}}),t.createAppSpace=function(r,i){var o=Object.create(n);o["-app"]=r,o["-app-dir"]=t.loader.dir(r),o["-app-home"]=i||o["-app-dir"],o.env=t.$env,o.run=t.$run,o.interpreter=t.$interpreter,o.warn=t.$warn,o.print=t.$print,o.printf=t.$printf,o.espress=t.$espress,o.timer=t.$timer;var u=Object.create(o);u["-module"]=r,u["-module-dir"]=t.loader.dir(r);var s=Object.create(e.proto),a=new c(u,null,null,s);return a.app=o,a.modules=Object.create(null),a.export=function(t,n){return void 0===s[t]&&(o[t]=n,s[t]=n),a.var(t,n)},a},t.createBootstrapSpace=function(n){var e=t.bootstrap=t.createAppSpace(n);return e.bindOperators(),e},t.createModuleSpace=function(r,i){var o=i&&i.app,u=Object.create(o||n);u["-module"]=r||"",u["-module-dir"]=r?t.loader.dir(r):"";var s=new c(u,null,null,Object.create(e.proto));return o&&(s.app=o,s.modules=i.modules),s},t.createLambdaSpace=function(e,r,i){var o;return e?((o=new c(Object.create(e))).app=e,o.modules=r):o=new c(Object.create(n)),i&&(o.local["-module"]=i||"",o.local["-module-dir"]=i?t.loader.dir(i):""),o},t.createFunctionSpace=function(t){var n=new c(Object.create(t.local),t.locals?t.locals.concat(t.local):[t.local]);return t.app&&(n.app=t.app,n.modules=t.modules),n},t.OperatorSpace=f,f.prototype=Object.assign(Object.create(c.prototype),{inop:!0,$resolve:function(t){return void 0!==n[t]?n[t]:void 0===this.$[t]?null:this.$[t]}}),t.createOperatorSpace=function(t,n){return new f(t,n)}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.operator,r=t.Tuple,i=t.Signal,o=t.Symbol,u=t.$warn,s=t.indexerOf,a=n.symbol.pairing,l=n.symbol.subject,c=t.staticOperators;t.evaluate=function t(n,f){if(!(n instanceof r))return n instanceof o?f.resolve(n.key):n;var p=n.$,h=p.length;if(h<1)return null;if(n.plain){for(var d=null,g=0;g<h;g++)d=t(p[g],f);return d}var y,v=p[0],m=1,b=!0;if(v instanceof o)if(v===l){switch(h){case 1:return null;case 2:return t(p[1],f);default:v=t(p[1],f)}m=2,b=!1}else if(v===a){if(h<2)return null;if("function"!=typeof(v=t(p[1],f)))return null;m=2}else{if(c[v.key])return c[v.key](f,n);v=f.resolve(v.key)}else v instanceof r&&(v=t(v,f));if("function"==typeof v&&b){if(v.type===e)return v(f,n);y=v,v=null}else y=null;if(m>=h&&null===y)return t(v,f);var w=[];if(null===y)if((y=p[m++])instanceof r&&(y=t(y,f)),y instanceof o)if(":"===y.key)y=s(v);else{var x=s(v);if("function"!=typeof(y=x.get?x.get.call(v,y.key):x.call(v,y.key)))return void 0===y?null:y}else"function"!=typeof y&&(w.push(y),y=s(v));if(y.type===e)return y(f,n,v);for(;m<h;m++)w.push(t(p[m],f));try{var O=y.apply(v,w);return void 0===O?null:O}catch(t){if(t instanceof i)throw t;return u("evaluate","unknown signal:",t,"when evaluating",n),null}}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.Signal,e=t.evaluate;t.signalOf=function(t){return function(r,i){var o=i.$,u=o.length;if(u<2)throw new n(t,0,null);if(2===u)throw new n(t,1,e(o[1],r));var s,a=[];for(s=1;s<u;s++)a.push(e(o[s],r));throw new n(t,s-1,a)}}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.tuple,r=n.symbol,i=t.Tuple,o=t.Signal,u=t.Symbol,s=t.$warn,a=t.lambda,l=t.stambda,c=t.constambda,f=t.evaluate,p=t.function,h=t.ownsProperty,d=t.createLambdaSpace,g=t.createFunctionSpace,y=t.createEmptyOperation,v=function(){try{return Object.defineProperty(function(){},"length",{value:2}),!0}catch(t){return-2146823209!==t.number&&s("runtime/function","function's length is not writable.",t),!1}}()?function(t,n){return n>0?Object.defineProperties(t,{length:{value:n},name:{value:void 0}}):Object.defineProperty(t,"name",{value:void 0})}:function(t,n){return(t=function(t,n){switch(n){case 1:return function(n){return t.apply(this,arguments)};case 2:return function(n,e){return t.apply(this,arguments)};case 3:return function(n,e,r){return t.apply(this,arguments)};case 4:return function(n,e,r,i){return t.apply(this,arguments)};case 5:return function(n,e,r,i,o){return t.apply(this,arguments)};case 6:return function(n,e,r,i,o,u){return t.apply(this,arguments)};case 7:return function(n,e,r,i,o,u,s){return t.apply(this,arguments)};case 8:return function(n,e,r,i,o,u,s,a){return t.apply(this,arguments)};case 9:return function(n,e,r,i,o,u,s,a,l){return t.apply(this,arguments)};case 10:return function(n,e,r,i,o,u,s,a,l,c){return t.apply(this,arguments)};case 11:return function(n,e,r,i,o,u,s,a,l,c,f){return t.apply(this,arguments)};case 12:return function(n,e,r,i,o,u,s,a,l,c,f,p){return t.apply(this,arguments)};case 13:return function(n,e,r,i,o,u,s,a,l,c,f,p,h){return t.apply(this,arguments)};case 14:return function(n,e,r,i,o,u,s,a,l,c,f,p,h,d){return t.apply(this,arguments)};case 15:return function(n,e,r,i,o,u,s,a,l,c,f,p,h,d,g){return t.apply(this,arguments)};case 16:return function(n,e,r,i,o,u,s,a,l,c,f,p,h,d,g,y){return t.apply(this,arguments)};default:return t}}(t)).name?Object.defineProperty(t,"name",{value:void 0}):t};function m(t,n){var e=f(t,n);return h(n.context,"retval")?n.context.retval:e}function b(t,n,e,r,i,o){var u=0===o?[]:1===o?[i]:i;t.prepare(n,e,u);for(var s=0;s<r.length;s++)t.local[r[s]]=s<u.length?u[s]:null;return t}function w(t,n,r){if(t instanceof u)return[[t.key],new i([t])];if(!(t instanceof i)||t.$.length<1)return[[],e.empty];t=t.$,r=r>0?r>t.length?t.length:r:t.length;for(var o=[],s=[],a=0;a<r;a++){var l=t[a];l instanceof u&&(o.push(l.key),s.push(l))}return o.length>0?[o,new i(s)]:[[],e.empty]}t.lambdaOf=function(t,u,l){var c=[r.lambda],f=w(u.$[l++],t);c.push(f[1]),f=f[0];var p=u.$.slice(l)||[];if(p.length>0){var h=new i(p,!0);return c.push(h),a(function(t,n,e,r,i){var u=d.bind(null,e,r,i),a=function(){for(var e=u(),r=0;r<t.length;r++)e.local[t[r]]=r<arguments.length?arguments[r]:null;for(e.prepare(a,this,Array.prototype.slice.call(arguments));;)try{return m(n,e)}catch(n){if(n instanceof o){if("redo"===n.id){e=b(u(),a,this,t,n.value,n.count);continue}if("exit"!==n.id)return n.value;throw n}return s("lambda:eval","unexpected error:",n),null}};return v(a,t.length)}(f,h,t.app,t.modules,t.local["-module"]),new i(c))}return c.push(e.blank),f.length<1?n.lambda.noop:a(y(),new i(c))},t.staticLambdaOf=function(t,u,a){var f=[r.stambda],p=w(u.$[a++],t,1);f.push(p[1]),p=p[0];var h=u.$.slice(a)||[];if(h.length>0){var g=new i(h,!0);return f.push(g),(p.length>0?l:c)(function(t,n){var e;t.length>0&&(e=t[0]);var r=function(){var t=d();e&&(t.local[e]="this"===e?this:arguments.length>0?arguments[0]:null);try{return m(n,t)}catch(t){if(t instanceof o){if("exit"!==t.id)return t.value;throw t}return s("stambda:eval","unexpected error:",t),null}};if("this"===e)return v(r,0);return(r=r.bind(null)).this=null,v(r,t.length)}(p,g),new i(f))}return f.push(e.blank),p.length<1?n.lambda.static:c(y(),new i(f))},t.functionOf=function(t,u,a){var l=[r.function],c=w(u.$[a++],t);l.push(c[1]),c=c[0];var f=u.$.slice(a)||[];if(f.length>0){var h=new i(f,!0);return l.push(h),p(function(t,n,e){var r=function(){for(var i=g(e),u=0;u<t.length;u++)i.local[t[u]]=u<arguments.length?arguments[u]:null;for(i.prepare(r,this,Array.prototype.slice.call(arguments));;)try{return m(n,i)}catch(n){if(n instanceof o){if("redo"===n.id){i=b(g(e),r,this,t,n.value,n.count);continue}if("exit"!==n.id)return n.value;throw n}return s("function:eval","unexpected error:",n),null}};return v(r,t.length)}(c,h,t.reserve()),new i(l))}return l.push(e.blank),c.length<1?n.function.noop:p(y(),new i(l))}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.tuple,r=n.symbol,i=t.Tuple,o=t.Space,u=t.Symbol,s=t.evaluate,a=t.operator,l=r.pairing,c=r.subject,f=t.createOperatorSpace,p=t.createEmptyOperation;t.operatorOf=function(t,h){var d=[r.operator],g=function(t){if(t instanceof u)return[[t.key],new i([t])];if(!(t instanceof i)||t.$.length<1)return[[],e.empty];var n=[],r=[];t=t.$;for(var o=0;o<t.length;o++){var s=t[o];s instanceof u&&(n.push(s.key),r.push(s))}return n.length<1?[[],e.empty]:[n,new i(r)]}(h.$[1]);d.push(g[1]),g=g[0];var y=h.$.slice(2)||[];if(y.length>0){!function t(n){for(var e=0;e<n.length;e++){var r=n[e];r instanceof i&&r.$.length>0&&(r.inop=!0,t(r.$))}}(y);var v=new i(y,!0);return d.push(v),a(function(t,n,e){return function(r,i,u){if(!(r instanceof o))return null;for(var a=i.$,p=void 0!==u?a[0]===c?3:2:a[0]===l?2:1,h=f(r,e),d=0;d<t.length;d++){var g=d+p;h.context[t[d]]=g<a.length?a[g]:null}return h.prepareOp(i,p,u),s(n,h)}}(g,v,t.local),new i(d))}return d.push(e.blank),g.length<1?n.operator.noop:a(p(),new i(d))}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.Signal,e=t.$warn,r=t.evaluate,i=t.createAppSpace,o=t.createModuleSpace;t.execute=function(u,s,a,l,c){var f=c?function(n,e){var r=t.bootstrap;r&&r["-app"]===n?r.modules[n]&&(r=i(n,e)):r=i(n,e);return r.modules[n]=Object.assign(Object.create(null),{status:201,exports:r.exporting,timestamp:Date.now()}),r}(a,c):o(a,u);f.populate(l);try{return[r(s,f),f]}catch(t){if(t instanceof n){if("exit"===t.id||"return"===t.id)return[t.value,f];throw t}return e("execute","unknown error:",t,"with",l,"for",s,"from",a),[null,null]}}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.compile,r=t.Tuple,i=t.Symbol,o=t.$warn,u=t.export,s=t.execute;u(n,"eval",function(t){var n;if("string"==typeof t){if(!((n=e(t))instanceof r))return o("eval","invalid code",n),null}else if(t instanceof r)n=t;else{if(!(t instanceof i))return t;n=new r([t],!0)}try{return s(null,n)[0]}catch(e){return n===t?o("eval","invalid call to",e.id,"for",n):o("eval","invalid call to",e.id,"for",n,"of",t),null}})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.compile,e=t.Tuple,r=t.$warn,i=t.export,o=t.execute,u=t.atomicArrayOf;i(t,"$run",function(i,s,a){if("string"!=typeof i)return null;s=Array.isArray(s)?u(s):[],("string"!=typeof a||a.length<1)&&(a=t.$env("home")),i.endsWith(".es")||(i+=".es");var l=t.loader,c=l.resolve(i,[a,t.runtime("home")]);if("string"!=typeof c)return r("run","failed to resolve source for",c),null;var f=l.load(c),p=f[0];if(!p)return r("run","failed to read source",i,"for",f[1]),null;var h=n(p,c,f[1]);if(!(h instanceof e))return r("run","compiler warnings:",h),null;try{return o(null,h,c,s,a)[0]}catch(t){return r("run","invalid call to",t.id,"in",p,"from",c,"with",s),null}})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.compiler,e=t.Signal,r=t.export,i=t.evaluate,o=t.isApplicable,u=t.atomicArrayOf,s=t.createAppSpace;r(t,"$interpreter",function(r,a,l){if(!o(r))return null;a=Array.isArray(a)?u(a):[],("string"!=typeof l||l.length<1)&&(l=t.runtime("home"));var c=s(l+"/.");c.populate(a);var f=n(function(t,n){if(n)r.apply(null,[null,"compiler:"+n].concat(Array.prototype.slice.call(arguments,2)));else{var o=t[0],u=t[1];try{r(i(o,c))}catch(t){t instanceof e?"return"===t.id?r(t.value):"exit"===t.id?r(t.value,"exiting"):r(null,"warning","invalid call to "+t.id,[o,u]):r(null,"warning","unexpected error in evaluation",[t,o,u])}}});return function(t){return"string"==typeof t?f(t):f()}})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.staticOperator;n("$",function(){return null}),n(":",function(){return null})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.tuple,r=n.symbol,i=t.Tuple,o=t.staticOperator;o("`",function(t,n){return n.$.length>1?n.$[1]:r.empty}),o("quote",function(t,n){return n._quoted||(n._quoted=n.$.length<2?e.empty:new i(n.$.slice(1),!1,n.source))}),o("unquote",function(t,n){return n._quoted||(n._quoted=n.$.length<2?e.blank:new i(n.$.slice(1),!0,n.source))})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.symbol.all,e=t.Tuple,r=t.Symbol,i=t.isObject,o=t.evaluate,u=t.staticOperator,s=t.tryToUpdateName;function a(t){return function(u,a){var l=a.$,c=l.length;if(c<2)return null;var f,p,h,d,g=l[1],y=c<3?null:o(l[2],u);if(u.inop&&a.inop){var v="string"==typeof(g=o(g,u))?g:g instanceof r?g.key:null;return v?u[t](v,s(y,v)):null}if(g instanceof r){if(g!==n)return u[t](g.key,s(y,g.key));if(i(y)){for(p=Object.getOwnPropertyNames(y),f=0;f<p.length;f++)d=y[h=p[f]],u[t](h,u[t](h,void 0===d?null:d));return y}return null}if(!(g instanceof e)||g.$.length<1)return null;var m=g.$;if(Array.isArray(y))for(f=0;f<m.length;f++)m[f]instanceof r&&u[t](m[f].key,f<y.length?y[f]:null);else if(i(y))for(f=0;f<m.length;f++)m[f]instanceof r&&(d=y[h=m[f].key],u[t](h,void 0===d?null:d));else for(f=0;f<m.length;f++)m[f]instanceof r&&u[t](m[f].key,y);return y}}u("export",a("export")),u("var",a("var")),u("const",a("const")),u("let",a("let")),u("local",a("lvar")),u("locon",a("lconst"))}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=t.Tuple,r=t.Signal,i=t.Symbol,o=t.evaluate,u=t.signalOf,s=t.iterateOf,a=n.iterator.of,l=t.sharedSymbolOf,c=t.staticOperator,f=l("else"),p=l("in"),h=l("_");function d(t,n,u,a,l){var c,f=n.$,p=f.length;if(u instanceof i)c=[u.key];else if(u instanceof e){c=[];for(var h=u.$,d=0;d<h.length;d++){var g=h[d];g instanceof i&&c.push(g.key)}}else c=[];if(!(a=s(a)))return null;for(var y=null,v=a();null!=v;){Array.isArray(v)||(v=[v]);for(var m=0;m<c.length;m++)t.var(c[m],m<v.length?v[m]:null);try{for(var b=l;b<p;b++)y=o(f[b],t)}catch(t){if(t instanceof r){if("continue"===t.id){y=t.value,v=a();continue}if("break"===t.id){y=t.value;break}}throw t}v=a()}return y}c("?",function(t,n){var e=n.$,r=e.length;if(r<2)return null;var u=e[1];return r<3?u instanceof i?t.$resolve(u.key):null:null!=(u=o(u,t))&&0!==u&&!1!==u?o(e[2],t):r>3?o(e[3],t):null}),c("if",function(t,n){var e,r,i,u=n.$,s=u.length;if(s<3)return null;var a=o(u[1],t);if(null!=a&&0!==a&&!1!==a){if((i=u[2])===f)return null;for(e=o(i,t),r=3;r<s;r++){if((i=u[r])===f)return e;e=o(i,t)}return e}for(r=2;r<s&&u[r]!==f;r++);if(r>=s)return null;for(e=null,r+=1;r<s;r++)e=o(u[r],t);return e}),c("break",u("break")),c("continue",u("continue")),c("while",function(t,n){var u=n.$,s=u.length;if(s<2)return null;for(var a=function(t,n){return n instanceof i?t.resolve.bind(t,n.key):n instanceof e?o.bind(null,n,t):!1===n||null===n||0===n}(t,u[1]),l="function"!=typeof a,c=null;;)try{if(l){if(a)return null}else{var f=a();if(!1===f||null==f||0===f)break}for(var p=2;p<s;p++)c=o(u[p],t)}catch(t){if(t instanceof r){if("continue"===t.id){c=t.value;continue}if("break"===t.id){c=t.value;break}}throw t}return c}),c("in",function(t,n){var e=n.$;return a(e.length>1?o(e[1],t):null)}),c("for",function(t,n){var e=n.$,r=e.length;return r<3?null:e[2]===p?r<5?null:d(t,n,e[1],o(e[3],t),4):d(t,n,h,o(e[1],t),2)})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.string,r=t.link,i=t.Space,o=t.Symbol,u=t.operator,s=t.thisCall,a=t.evaluate,l=n.number.of;(0,t.staticOperator)("+",function(t,n){var e=n.$;if(e.length>1){var r=a(e[1],t);return"number"==typeof r?function(t,n,e){for(var r=e.length,i=2;i<r;i++){var o=a(e[i],t);n+="number"==typeof o?o:l(o)}return n}(t,r,e):function(t,n,e){var r=e.length;"string"!=typeof n&&(n=s(n,"to-string"));for(var i=2;i<r;i++){var o=a(e[i],t);n+="string"==typeof o?o:s(o,"to-string")}return n}(t,r,e)}return 0}),r(e.proto,"+=",u(function(t,n,e){if(!(t instanceof i))return 0;"string"!=typeof e&&(e="");for(var r=n&&n.$&&n.$.length?n.$:[],u=2;u<r.length;u++){var l=a(r[u],t);e+="string"==typeof l?l:s(l,"to-string")}var c=r[0];return c instanceof o&&t.let(c.key,e),e})),r(e.proto,"-=",u(function(t,n,e){if(!(t instanceof i))return 0;if("string"!=typeof e)return null;if(e.length<1)return e;for(var r=n&&n.$&&n.$.length?n.$:[],u=2;u<r.length;u++){var l=a(r[u],t);"string"==typeof l?e.endsWith(l)&&(e=e.substring(0,e.length-l.length)):"number"==typeof l?e=e.substring(0,e.length-l):(l=s(l,"to-string"),e.endsWith(l)&&(e=e.substring(0,e.length-l.length)))}var c=r[0];return c instanceof o&&t.let(c.key,e),e}))}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.type,r=n.bool,i=t.null,o=t.link,u=t.Space,s=t.operator,a=t.evaluate,l=t.thisCall,c=n.symbol.subject,f=t.staticOperator,p=f("!",function(t,n){if(n.$.length<2)return!1;var e=a(n.$[1],t);return!1===e||null===e||0===e});f("not",p),o(i,["&&","and"],s(function(t,n,e){if(!(t instanceof u))return null;var r=n.$;if(void 0===e)return null;if(!1===e||null===e||0===e)return e;for(var i=e,o=r[0]===c?3:2;o<r.length;o++)if(!1===(i=a(r[o],t))||null===i||0===i)return i;return i})),o(i,["||","or"],s(function(t,n,e){var r=n&&n.$;if(void 0===e&&(e=null),!1!==e&&null!==e&&0!==e)return e;if(!(t instanceof u))return null;for(var i=e,o=r[0]===c?3:2;o<r.length;o++)if(!1!==(i=a(r[o],t))&&null!==i&&0!==i)return i;return i})),o(i,"?",s(function(t,n,e){var r=n&&n.$;if(!r||!r.length||r.length<2)return null;var i=r[0]===c?3:2;if(void 0!==e&&!1!==e&&null!==e&&0!==e)switch(r.length-i){case 0:return!0;case 1:return e;default:return t instanceof u?a(r[i],t):null}switch(r.length-i){case 0:return!1;case 1:return t instanceof u?a(r[i],t):null;default:return t instanceof u?a(r[i+1],t):null}})),o(i,"?*",s(function(t,n,e){var r=n&&n.$;if(!r||!r.length||r.length<2)return null;var i=r[0]===c?3:2;if(l(e,"not-empty"))switch(r.length-i){case 0:return!0;case 1:return e;default:return t instanceof u?a(r[i],t):null}switch(r.length-i){case 0:return!1;case 1:return t instanceof u?a(r[i],t):null;default:return t instanceof u?a(r[i+1],t):null}})),o(i,"??",s(function(t,n,e){if(!(t instanceof u))return null;for(var r=n.$,i=r[0]===c?3:2;i<r.length;i++){var o=a(r[i],t);if(null!==o)return o}return null})),o(e.proto,"??",s(function(t,n,e){return e})),o(r.proto,"fails",s(function(t,n,e){return!e})),o(r.proto,"succeeds",s(function(t,n,e){return!!e}))}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.number,e=t.link,r=t.Space,i=t.Symbol,o=t.evaluate,u=t.operator;(0,t.staticOperator)("~",function(t,n){if(n.$.length>1){var e=o(n.$[1],t);return"number"==typeof e?~e:-1}return-1}),e(n.proto,"&=",u(function(t,n,e){var u=n.$;if("number"!=typeof e||u.length<3)return 0;if(!(t instanceof r))return 0;var s=o(u[2],t);e&="number"==typeof s?s:0;var a=u[0];return a instanceof i&&t.let(a.key,e),e})),e(n.proto,"|=",u(function(t,n,e){if("number"!=typeof e)return 0;if(!(t instanceof r))return 0;var u=n&&n.$,s=u&&u.length&&u.length>2?o(u[2],t):0;e|="number"==typeof s?s:0;var a=u[0];return a instanceof i&&t.let(a.key,e),e})),e(n.proto,"^=",u(function(t,n,e){if("number"!=typeof e)return 0;if(!(t instanceof r))return 0;var u=n&&n.$,s=u&&u.length&&u.length>2?o(u[2],t):0;e^="number"==typeof s?s:0;var a=u[0];return a instanceof i&&t.let(a.key,e),e})),e(n.proto,"<<=",u(function(t,n,e){if("number"!=typeof e)return 0;if(!(t instanceof r))return 0;var u=n&&n.$,s=u&&u.length&&u.length>2?o(u[2],t):0;e<<="number"==typeof s?s:0;var a=u[0];return a instanceof i&&t.let(a.key,e),e})),e(n.proto,">>=",u(function(t,n,e){if("number"!=typeof e)return 0;if(!(t instanceof r))return 0;var u=n&&n.$,s=u&&u.length&&u.length>2?o(u[2],t):0;e>>="number"==typeof s?s:0;var a=u[0];return a instanceof i&&t.let(a.key,e),e})),e(n.proto,">>>=",u(function(t,n,e){if("number"!=typeof e)return 0;if(!(t instanceof r))return 0;var u=n&&n.$,s=u&&u.length&&u.length>2?o(u[2],t):0;e>>>="number"==typeof s?s:0;var a=u[0];return a instanceof i&&t.let(a.key,e),e}))}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.number,e=n.proto["%"],r=t.link,i=t.Space,o=t.Symbol,u=t.operator,s=t.evaluate,a=t.staticOperator;a("-",function(t,n){var e=s(n.$[1],t);return"number"==typeof e?-e:-0}),a("++",function(t,n){var e=n.$;if(e.length<2)return 1;var r=e[1];if(r instanceof o){var i=t.resolve(r.key);return t.let(r.key,"number"==typeof i?i+1:1)}return"number"==typeof(r=s(r,t))?r+1:1}),a("--",function(t,n){var e=n.$;if(e.length<2)return-1;var r=e[1];if(r instanceof o){var i=t.resolve(r.key);return t.let(r.key,"number"==typeof i?i-1:-1)}return"number"==typeof(r=s(r,t))?r-1:-1}),r(n.proto,"++",u(function(t,n,e){if(!(t instanceof i))return 0;"number"==typeof e&&n&&n.$&&n.$.length||(e=0);var r=n.$[0];return r instanceof o&&t.let(r.key,e+1),e})),r(n.proto,"--",u(function(t,n,e){if(!(t instanceof i))return 0;"number"==typeof e&&n&&n.$&&n.$.length||(e=0);var r=n.$[0];return r instanceof o&&t.let(r.key,e-1),e})),r(n.proto,"+=",u(function(t,n,e){if(!(t instanceof i))return 0;"number"!=typeof e&&(e=0);for(var r=n.$&&n.$.length?n.$:[],u=2;u<r.length;u++){var a=s(r[u],t);"number"==typeof a&&(e+=a)}var l=r[0];return l instanceof o&&t.let(l.key,e),e})),r(n.proto,"-=",u(function(t,n,e){if(!(t instanceof i))return 0;"number"!=typeof e&&(e=0);for(var r=n.$&&n.$.length?n.$:[],u=2;u<r.length;u++){var a=s(r[u],t);"number"==typeof a&&(e-=a)}var l=r[0];return l instanceof o&&t.let(l.key,e),e})),r(n.proto,"*=",u(function(t,n,e){if(!(t instanceof i))return 0;"number"!=typeof e&&(e=0);for(var r=n.$&&n.$.length?n.$:[],u=2;u<r.length;u++){var a=s(r[u],t);"number"==typeof a&&(e*=a)}var l=r[0];return l instanceof o&&t.let(l.key,e),e})),r(n.proto,"/=",u(function(t,n,e){if(!(t instanceof i))return 0;"number"!=typeof e&&(e=0);for(var r=n.$&&n.$.length?n.$:[],u=2;u<r.length;u++){var a=s(r[u],t);"number"==typeof a&&(e/=a)}var l=r[0];return l instanceof o&&t.let(l.key,e),e})),r(n.proto,"%=",u(function(t,n,r){if(!(t instanceof i))return 0;"number"!=typeof r&&(r=0);var u=n.$&&n.$.length?n.$:[];u.length>2&&(r=e.call(r,s(u[2],t)));var a=u[0];return a instanceof o&&t.let(a.key,r),r}))}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.class,r=n.object,i=n.symbol,o=i.of,u=t.Tuple,s=t.Symbol,a=t.ClassType,l=t.thisCall,c=t.evaluate,f=n.array.proto.set,p=t.staticOperator,h=i.pairing,d=i.all,g=i.literal,y=i.of("array"),v=i.of("object"),m=i.of("class");function b(t,n,e){for(var r,i,o=[];e<n.length;)i=c(n[e++],t),e<n.length&&n[e]===h?(e+=1,r="number"==typeof i?i>>0:o.length,f.call(o,r,e>=n.length?null:c(n[e++],t))):o.push(i);return o}function w(t,n,e,r){for(var i=e.empty(),a=n.length;r<a;){var f=n[r++];f instanceof s?f=f.key:"string"!=typeof f&&(f instanceof u&&(f=c(f,t)),f instanceof s?f=f.key:"string"!=typeof f&&(f=l(f,"to-string"))),n[r]===h?i[f]=++r<a?c(n[r++],t):null:i[f]=c(o(f),t)}var p=e.proto.activator;return"function"==typeof p&&p.call(i,i),i}p("@",function(t,n){var i=n.$,o=i.length;if(o<2)return[];var s=i[1];if(s!==h)return o<=2||i[2]!==h||"number"==typeof s||s instanceof u?b(t,i,1):w(t,i,r,1);if(o<3)return Object.create(r.proto);var l=i[2];return l===m?e.of(w(t,i,r,3)):l===g||l===v?w(t,i,r,3):l===d||l===y?b(t,i,3):w(t,i,(l=c(l,t))instanceof a?l:r,3)})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.tuple,r=n.symbol,i=n.lambda,o=n.function,u=t.Tuple,s=t.evaluate,a=t.signalOf,l=t.lambdaOf,c=t.functionOf,f=t.staticLambdaOf,p=t.staticOperator;function h(t,n){return function(i,o){var a,l,c=o.$,f=c.length;if(f<2)return n;if(c[1]===r.pairing)a=f>2?c[2]:e.empty,l=2;else{if(!(f>2&&c[2]===r.pairing))return t(i,o,1);a=c[1],l=3}if(f<=l+1)return null;var p=t(i,o,l);if(a instanceof u){var h=a.$;if(h.length<1)return p();for(var d=[],g=0;g<h.length;g++)d.push(s(h[g],i));return p.apply(null,d)}return p(s(a,i))}}p("=",h(l,i.noop)),p("->",h(f,i.noop)),p("=>",h(c,o.noop)),p("redo",a("redo")),p("return",a("return")),p("exit",a("exit"))}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.operator,e=t.operatorOf;(0,t.staticOperator)("=?",function(t,r){return r.$.length<2?n.noop:e(t,r)})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.compile,r=n.object,i=t.Tuple,o=t.Symbol,u=t.Object,s=t.$warn,a=t.execute,l=t.evaluate,c=t.appendExt,f=t.sharedSymbolOf,p=t.staticOperator,h=f("from"),d=f("import"),g=p("import",function(t,n){var e,a=n.$;if(a.length<2)return null;if(!t.app)return s("import","invalid without an app context."),null;if(a.length<4||a[2]!==h)return e=y(t,t.local["-app-home"],t.local["-module"],l(a[1],t)),Object.assign(r.empty(),e);var c=(e=l(a[3],t))instanceof u?e:"string"!=typeof e?null:y(t,t.local["-app-home"],t.local["-module"],e);if("object"!=typeof c)return null;var f,p=a[1];if(p instanceof o)return c[p.key];if(!(p instanceof i))return null;var d=p.$;for(p=[],f=0;f<d.length;f++)d[f]instanceof o&&p.push(d[f].key);var g=[];for(f=0;f<p.length;f++){var v=c[p[f]];g.push(void 0===v?null:v)}return g});function y(n,u,l,f){if("string"!=typeof f){if(!(f instanceof o))return s("import","invalid module source:",f),null;f=f.key}var p,h=f.indexOf("$");h>=0&&(p=f.substring(0,++h),f=f.substring(h));var d=p?f:function(n,e,r){var i=t.loader,o=i.isResolved(r);if(!e&&o)return s("import","It's forbidden to import a module from an absolute uri."),null;var u=o?[]:function(t,n,e,r,i){return n?t.startsWith("./")||t.startsWith("../")?[n]:[e,r,i,n]:[i]}(r,e&&i.dir(e),n+"/modules",t.$env("home")+"/modules",t.runtime("home")+"/modules"),a=i.resolve(r,u);if("string"==typeof a)return a;return s("import","failed to resolve",r,"in",u),null}(u,l,c(f));if(!d)return null;var g=function(t,n,e){var i=t[n];i?100===i.status&&s("import","loop dependency when loading",n,"from",e):i=t[n]=Object.assign(Object.create(null),{status:0,exports:r.empty(),timestamp:Date.now()});return i}(n.modules,d,l);if(g.status)return g.exports;g.status=100;var y=(p?function(n,e,r,i,o){try{var u=t.require(e,o,t);if("function"!=typeof u)return r.status=400,s("import","invalid native module",i,"at",e),null;var a=t.createModuleSpace(e,n),l=u.call(r.exporting,a.exporting,a.context,t);if(!0===l)return r.status=200,a.exporting;r.status=500,s("import","failed to import native module of",i,"for",l,"at",e)}catch(t){r.status=503,s("import","failed to import native module of",i,"for",t,"at",e,"from",o)}return null}:function(n,r,o,u,l){try{var c=t.loader.load(r),f=c[0];if("string"!=typeof f)return o.status=415,s("import","failed to read",u,"for",c[1]),null;var p=e(f,r,c[1]);if(!(p instanceof i))return o.status=400,s("import","failed to compile",u,"for",p),null;var h=a(n,p,r,{this:o.exporting})[1];if(h)return o.status=200,h.exporting;o.status=500,s("import","failed when executing",p)}catch(t){o.status=503,s("import","invalid call to",t.id,"in",p,"at",r,"from",l)}return null})(n,d,g,f,l);if(!y||y===g.exporting)return g.exports;g.exporting=y;for(var v=Object.getOwnPropertyNames(y),m=0;m<v.length;m++){var b=v[m];/^[-_]/.test(b)||(g.exports[b]=y[b])}return g.exports}t.bindOperatorImport=function(t){return t.$import=function(n){return n&&"string"==typeof n?g(t,new i([d,n])):(s("$import","invalid source uri:",n),null)}}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.compile,e=t.Tuple,r=t.$warn,i=t.execute,o=t.evaluate,u=t.appendExt,s=t.sharedSymbolOf,a=t.staticOperator,l=s("load"),c=a("load",function(s,a){var l=a.$;return l.length<2?null:s.app?function(o,s,a,l,c){if(!l||"string"!=typeof l)return r("load","invalid source:",l),null;var f=function(n,e,i){if(!e)return r("load","It's forbidden to load a module","from an anonymous module."),null;var o=t.loader,u=o.isResolved(i)?[]:function(n,e,r,i){return n.startsWith("./")||n.startsWith("../")?[e]:[e,r,i,t.runtime("home")]}(i,o.dir(e),o.dir(n),t.$env("home")),s=o.resolve(i,u);if("string"!=typeof s)return r("load","failed to resolve",i,"in",u),null;if(s!==e)return s;return r("load","a module,",e,", cannot load itself by resolving",i,"in",u),null}(s,a,u(l));if("string"!=typeof f)return null;var p=t.loader.load(f),h=p[0];if(!h)return r("load","failed to load",l,"for",p[1]),null;var d=n(h,f,p[1]);if(!(d instanceof e))return r("load","compiler warnings:",d),null;try{var g=i(o,d,f,Array.isArray(c)?c.slice():c),y=g[1];return y&&Object.getOwnPropertyNames(y.exporting).length>0?y.exporting:g[0]}catch(t){return r("load","invalid call to",t.id,"in",d,"from",f,"on",a),null}}(s,s.local["-app"],s.local["-module"],o(l[1],s),l.length>2?o(l[2],s):null):(r("load","invalid without an app context."),null)});t.bindOperatorLoad=function(t){return t.$load=function(n){return n&&"string"==typeof n?c(t,new e([l,n])):(r("$load","invalid source uri:",n),null)}}}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$.promise,e=t.$run,r=t.$warn,i=t.Tuple,o=t.Promise,u=t.evaluate,s=t.appendExt,a=t.sharedSymbolOf,l=t.staticOperator,c=n.all,f=a("fetch"),p=n["of-resolved"],h=l("fetch",function(n,i){var a=i.$;if(a.length<2)return null;if(!n.app)return r("fetch","invalid without an app context."),null;for(var l=t.loader,f=n.local["-module"]?[l.dir(n.local["-module"])]:[],h=function(t,n,i){if(!i||"string"!=typeof i)return r("fetch","invalid resource uri to fetch.",i),p(i);if(i=s(i),!t.isResolved(i)&&"string"!=typeof(i=t.resolve(i,n)))return r("fetch","failed to resolve ",i),p(i);return i.endsWith("@.es")?new o(function(n,r){t.fetch(i).then(function(){var t=e(i);t instanceof o?t.then(n,r):n(t)},r)}):t.fetch(i)}.bind(null,l,f),d=[],g=1;g<a.length;g++)d.push(h(u(a[g],n)));return c(d)});t.bindOperatorFetch=function(t){return t.$fetch=function(n){var e=Array.isArray(n)?n.slice():Array.prototype.slice.call(arguments);e.unshift(f);for(var o=1;o<e.length;o++){var u=e[o];u&&"string"==typeof u||(r("$fetch","invalid source uri:",u),e[o]=null)}return h(t,new i(e))}}}},function(t,n,e){"use strict";t.exports=function(){var t={},n=t.null=Object.create(null),e=t.$=Object.create(null),r=Object.create(n),i=t.Type$=function(){this.proto=r,h(r,this)};function o(t,n){return e[n]=t,t.name=n,t}i.prototype=r;var u=new i;function s(t){var n=Object.create(u);return n.proto=Object.create(u.proto),h(n.proto,n),o(n,t),n}o(u,"type"),e.null=null,t.Type=function(){},t.Type.prototype=u,s("bool"),s("string"),s("number"),s("date"),t.Date=Date,s("range"),(t.Range=function(t,n,e){this.begin=t,this.end=n,this.step=e}).prototype=e.range.proto,s("symbol"),(t.Symbol=function(t){this.key=t}).prototype=e.symbol.proto,s("tuple"),(t.Tuple=function(t,n,e){this.$=t,this.plain=!0===n,e&&(this.source=e)}).prototype=e.tuple.proto;var a=s("operator");t.operator=function(t,n){return t.type=e.operator,t.code=n,t},t.staticOperators=Object.create(null),s("lambda"),t.lambda=function(t,n){return t.type=e.lambda,t.code=n,t},t.stambda=function(t,n){return t.type=e.lambda,t.code=n,t.static=!0,t},t.constambda=function(t,n){return t.type=e.lambda,t.code=n,t.const=!0,void 0===t.this&&(t.this=null),"function"!=typeof t.bound&&(t.bound=t),t},s("function"),t.function=function(t,n){return t.type=e.function,t.code=n,t},t.isApplicable=function(t){return"function"==typeof t&&t.type!==a},s("iterator"),(t.Iterator=function(t){this.next=t}).prototype=e.iterator.proto,s("promise"),t.Promise=Promise,s("array"),s("object"),(t.Object=function(t){t&&Object.assign(this,t)}).prototype=e.object.proto;var l=o(Object.create(u),"class"),c=l.proto=Object.create(u);c.name=void 0,c.type=l,(t.ClassType=function(){}).prototype=c;var f=c.proto=Object.create(e.object.proto);function p(t,n,e){return Object.defineProperty?Object.defineProperty(t,n,{enumerable:!1,configurable:!1,writable:!0,value:e}):t[n]=e,e}function h(t,n){return p(t,"type",n)}return(t.ClassInst=function(){}).prototype=f,t.createClass=function(){var t=Object.create(c);return t.proto=Object.create(f),h(t.proto,t),t},t.defineProperty=p,t.defineConst=function(t,n,e){return Object.defineProperty?Object.defineProperty(t,n,{enumerable:!1,configurable:!1,writable:!1,value:e}):t[n]=e,e},t}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=n.symbol.of,r=n.number["parse-int"],i=n.string.unescape,o=t.$warn,u=t.export,s=t.isApplicable,a=t.constantValues,l=t.regexDecimal,c=t.regexSpecialSymbol,f=u(n,"tokenizer",function(t,u){if(!s(t))return n.tokenize;var f,p,h,d,g,y,v,m,b,w,x,O,j,$="";function A(){f=0,p=0,h=null,d=!1,g=0,y=0,v=null,m="",b=0,w=0,x=-1,O=!1,j=-1}u&&"string"==typeof u||(u=""),A();var N=C("'","format"),S=C('"');return function(t){if("string"!=typeof t)return $="",v&&v(),A(),!1;$=t;for(var n=0;n<t.length;n++){var e=t[n];v&&v(e)||k(e),T(e)}return!0};function k(n){switch(n){case"(":t("punctuation",n,[y,f,p]),y=-1;break;case")":t("punctuation",n,[g,f,p]);break;case"\\":O=!0,D("");break;case"`":case"@":case":":case"$":case",":case";":case"[":case"]":case"{":case"}":t("symbol",e(n),[g,f,p]);break;case"'":E('"',N);break;case'"':E('"',S);break;case"#":E("",P);break;case" ":case"\t":!function(t){if(g<0)return I(t);"\t"===t&&o("tokenizer","TAB-space is not suggested in indention.",[u||$,f,p,g]);y=++g}(n);break;default:D(n)}}function T(t){h=t,d=!v&&/[\s]/.test(t)," "!==t&&"\t"!==t&&(g=-1),"\n"===t?(f+=1,p=g=y=0):p+=1}function E(t,n){v=n,m=t,b=f,w=p,x=g}function C(n,e){function r(){return t(e||"value",i(m+'"'),[x,b,w,f,p]),v=null,!0}return function(t){if(void 0===t)return o("tokenizer","a string value is not properly closed.",[u||$,f,p,b,w]),r();if("\r"===t)return!0;if("\n"===t)return O?(m+="n",j=1,O=!1):j<0&&(j=0),!0;if(/[\s]/.test(t)){if(j>=0)return 0===j&&(m.length>1&&(m+=" "),j=1),!0}else j=-1;return O?(m+=t,O=!1,!0):t===n?r():(m+="'"===n&&'"'===t?"\\"+t:t,"\\"===t&&(O=!0),!0)}}function I(n){d&&"\n"!==n||t("space",n,[g,f,p])}function P(n){return void 0===n||"\n"===n?(t("comment",m,[x,b,w,f,p]),v=null):m.length<1&&"("===n?(m="(",v=F):m+=n,"\n"!==n}function F(n){if(n){if(")"!==h||"#"!==n)return m+=n,!0}else m+=")",o("tokenizer","a block comment is not properly closed.",[u||$,f,p,b,w]);return t("comment",m,[x,b,w,f,p]),v=null,!0}function D(t){/[\s]/.test(t)?I(t):E(t,R)}function R(n){return n&&O?(m+=n,O=!1,!0):"\\"===n?(O=!0,!0):n&&!c.test(n)?(m+=n,!0):(function(){var n,i;void 0!==a[m]?i=a[m]:l.test(m)?i=/(\.|e|E|^-0$)/.test(m)?parseFloat(m):r(m):m.startsWith("0")?i=r(m):(n="symbol",i=e(m));t(n||"value",i,[x,b,w,f,p-1])}(),O=!1,v=null,!1)}});u(n,"tokenize",function(t){var n=[],e=f(function(){n.push(Array.prototype.slice.call(arguments))});return e(t),e(),n})}},function(t,n,e){"use strict";t.exports=function(t){var n=t.$,e=t.Tuple,r=t.$warn,i=t.export,o=n.tokenizer,u=t.isApplicable,s=t.formatPattern,a=t.sharedSymbolOf,l=n.symbol.pairing,c=n.symbol.subject,f=a("string"),p=a("format"),h=a("to-string"),d=i(n,"compiler",function(t,i){if(!u(t))return n.compile;var a,d,g,y,v,m,b="";function w(){a=[[]],d=[[[[0,0,0]]]],g=null,y=["space","",[0,0,0]],v=-1,m=0}i&&"string"==typeof i||(i=""),w();var x=o(function(t,e,o){var u=o[o.length-2];u!==v&&(v=u,m=a[a.length-1].length);g&&g(t,e,o)||function(t,e,o){switch(t){case"value":j(e,o);break;case"symbol":!function(t,n){switch(t.key){case",":"symbol"===y[0]&&","===y[1].key&&j(null,n);break;case";":T(t,n),e=d.length-1,r=m+1,(i=d[e]).length>r&&v>i[r][1]||function(t,n){var e=a.length-1;a.push(a[e].splice(m));var r=d[e].splice(m+1);r.length>0?r.unshift(r[0]):r.push(n),d.push(r),A(n),m=a[e].length}(0,n);break;default:j(t,n)}var e,r,i}(e,o);break;case"punctuation":!function(t,n){switch(t){case"(":a.push([]),d.push([[n]]);break;case")":g=$}}(e,o);break;case"format":!function(t,e){var o=s(t);if(!(o.length>1))return t.indexOf('"')<0&&r("compiler","unnecessary format string.",t,["format",t,e,i||b]),j(o[0],e);var u=e.slice(0,3).concat(e.slice(1,2)),l=e.slice(0,1).concat(e.slice(-2));a.push([f,p]),d.push([[u],u,u]),j(o[0],e);for(var c=1;c<o.length;c++){var h=n.compile(o[c]);j(h.$.length>0?h.$[0]:null,l)}A(l)}(e,o);break;case"space":"\n"===e&&O()}}(t,e,o);y=[t,e,o]},i);return function(t){return b=t&&"string"==typeof t?t:"",x(t)?a.length:(g&&g(),a.length>1&&(r("compiler","open statements are not properly closed.",[y,i||b]),function(t,n){for(;a.length>1;)A(n)}(0,y[2])),O(),w(),0)};function O(){for(;a[0].length>0;)t([a[0].shift(),d[0].splice(0,1)])}function j(t,n){a[a.length-1].push(t),d[d.length-1].push(n)}function $(t,n,e){if(g=null,"symbol"!==t)return k(),!1;switch(n.key){case".":return a.length>1?function(t,n){if(a.length<2)return void r("compiler",'extra ")," is found and ignored.',[y,["symbol",t,n],i||b]);y[2][0]>=0?function(t,n){var e=y[2][0],r=a.length-1;for(;r>0;){var i=d[r][0][0][0];if(i>=0&&i<=e){i===e&&A(n);break}A(n),r=a.length-1}}(0,n):T(t,n)}(n,e):r("compiler",'extra enclosing ")." is found and ignored.',[y,["symbol",n,e],i||b]),!0;default:return k(),!1}}function A(t){var n=a.pop(),r=d.pop();for(r[0].push(t||y[2]);n.length>2&&N(n,r););r[0].unshift(i||b),a[a.length-1].push(new e(n,!1,r)),d[d.length-1].push(r[0].slice(1))}function N(t,n){for(var e=t.length-1,r=1;r<e;r++)if(t[r]===l&&t[r+1]===l)return t.splice(r,2),n.splice(r+1,2),S(t,n,r),!0;return!1}function S(t,n,r){var o=t.splice(0,r),u=n.splice(1,r+1),s=u[0].slice(0,3),a=u[u.length-1];u.unshift(s.concat(a.slice(-2))),t.length<1&&(t.push(h),n.push(a.slice(0,1).concat(a.slice(-2)))),u[0].unshift(i||b),t.unshift(c,new e(o,!1,u)),n.splice(1,0,s.concat(s.slice(1)),u[0].slice(1))}function k(){a.length<2?r("compiler","extra enclosing parentheses is found and ignored.",[y,i||b]):A()}function T(t,n){for(var e=a.length-1;e>0;){if(d[e][0][0][1]<n[1])break;A(n),e=a.length-1}}}),g={code:Object.create(null),versions:Object.create(null),get:function(t,n){return t&&"string"==typeof t?n&&"string"==typeof n?this.versions[t]===n?this.code[t]:null:this.code[t]:null},set:function(t,n,e){return n&&"string"==typeof n&&(this.code[n]=t,e&&"string"==typeof e&&(this.versions[n]=e)),t}};i(n,"compile",function(t,n,r){var i=g.get(n,r);if(i)return i;var o=function(t,n){return t&&"string"==typeof t?n&&"string"==typeof n?t+"@"+n:t:""}(n||t,r),u=[],s=[[[o,0,0,0]]],a=d(function(t){u.push(t[0]),s.push(t[1])},o);return a(t)>1&&a("\n"),a(),i=new e(u,!0,s),g.set(i,n,r)})}},function(t,n,e){"use strict";var r=[];function i(t,n,i){var o=function(t){switch(t){case"io":return e(76);case"restful":return e(77);case"shell":return e(94);case"symbols":return e(13);case"window":return e(95);default:return null}}(t);if(o)return o;for(var u=r.length-1;u>=0;u--)if("function"==typeof(o=r[u](t,n,i)))return o;return null}function o(t){return"function"==typeof t?(r.unshift(t),t):null}function u(t,n,e,r){return e._generic=n,r.safelyAssign(t,n),t}i.register=o,i.unregister=function(t){for(var n=r.length-1;n>=0;n--)if(r[n]===t)return r.splice(n,1),t;return null},i.copy=u,i.use=function(t,n,e){return o(function(e){return e!==t?null:function(t,e,r){return u(t,n,e,r),!0}})},t.exports=i},function(t,n,e){"use strict";t.exports=function(t,n,e){return Object.assign(t,e.$io),!0}},function(t,n,e){"use strict";var r=e(4),i=["request","options","head","get","post","put","patch","delete"];function o(t,n){for(var e=0;e<i.length;e++){var r=i[e];t[r]=n[r].bind(n)}return t}t.exports=function(t,n,e){var i=e.$.object;return o(t,r),t.of=function(t){return t&&"object"==typeof t||(t=i.empty()),o(i.of({config:t}),r.create(t))},!0}},function(t,n,e){"use strict";var r=e(0),i=e(5),o=e(80),u=e(11);function s(t){var n=new o(t),e=i(o.prototype.request,n);return r.extend(e,o.prototype,n),r.extend(e,n),e}var a=s(e(8));a.Axios=o,a.create=function(t){return s(u(a.defaults,t))},a.Cancel=e(12),a.CancelToken=e(92),a.isCancel=e(7),a.all=function(t){return Promise.all(t)},a.spread=e(93),t.exports=a,t.exports.default=a},function(t,n){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,n,e){"use strict";var r=e(0),i=e(6),o=e(81),u=e(82),s=e(11);function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method=t.method?t.method.toLowerCase():"get";var n=[u,void 0],e=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){n.push(t.fulfilled,t.rejected)});n.length;)e=e.then(n.shift(),n.shift());return e},a.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(n,e){return this.request(r.merge(e||{},{method:t,url:n}))}}),r.forEach(["post","put","patch"],function(t){a.prototype[t]=function(n,e,i){return this.request(r.merge(i||{},{method:t,url:n,data:e}))}}),t.exports=a},function(t,n,e){"use strict";var r=e(0);function i(){this.handlers=[]}i.prototype.use=function(t,n){return this.handlers.push({fulfilled:t,rejected:n}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(n){null!==n&&t(n)})},t.exports=i},function(t,n,e){"use strict";var r=e(0),i=e(83),o=e(7),u=e(8),s=e(90),a=e(91);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!s(t.url)&&(t.url=a(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(n){delete t.headers[n]}),(t.adapter||u.adapter)(t).then(function(n){return l(t),n.data=i(n.data,n.headers,t.transformResponse),n},function(n){return o(n)||(l(t),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,t.transformResponse))),Promise.reject(n)})}},function(t,n,e){"use strict";var r=e(0);t.exports=function(t,n,e){return r.forEach(e,function(e){t=e(t,n)}),t}},function(t,n,e){"use strict";var r=e(0);t.exports=function(t,n){r.forEach(t,function(e,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(t[n]=e,delete t[r])})}},function(t,n,e){"use strict";var r=e(10);t.exports=function(t,n,e){var i=e.config.validateStatus;!i||i(e.status)?t(e):n(r("Request failed with status code "+e.status,e.config,null,e.request,e))}},function(t,n,e){"use strict";t.exports=function(t,n,e,r,i){return t.config=n,e&&(t.code=e),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,n,e){"use strict";var r=e(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var n,e,o,u={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),n=r.trim(t.substr(0,o)).toLowerCase(),e=r.trim(t.substr(o+1)),n){if(u[n]&&i.indexOf(n)>=0)return;u[n]="set-cookie"===n?(u[n]?u[n]:[]).concat([e]):u[n]?u[n]+", "+e:e}}),u):u}},function(t,n,e){"use strict";var r=e(0);t.exports=r.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");function i(t){var r=t;return n&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return t=i(window.location.href),function(n){var e=r.isString(n)?i(n):n;return e.protocol===t.protocol&&e.host===t.host}}():function(){return!0}},function(t,n,e){"use strict";var r=e(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,n,e,i,o,u){var s=[];s.push(t+"="+encodeURIComponent(n)),r.isNumber(e)&&s.push("expires="+new Date(e).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,n,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,n,e){"use strict";t.exports=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}},function(t,n,e){"use strict";var r=e(12);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(t){n=t});var e=this;t(function(t){e.reason||(e.reason=new r(t),n(e.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(n){t=n}),cancel:t}},t.exports=i},function(t,n,e){"use strict";t.exports=function(t){return function(n){return t.apply(null,n)}}},function(t,n,e){"use strict";t.exports=function(t,n,e){return Object.assign(t,e.$shell),!0}},function(t,n,e){"use strict";t.exports=function(t,n,e){return"undefined"==typeof window?"window is only available in web browser.":(e.safelyAssign(t,window),!0)}},function(t,n,e){"use strict";var r=Object.create(null),i=Object.create(null);function o(t){return{getItem:function(n){return t[n]},setItem:function(n,e){t[n]=e}}}t.exports=function(t){var n=t.$warn,e=t.thisCall,u=t.$.string.of,s=t.$io={},a=window.localStorage||o(r),l=window.sessionStorage||o(i);function c(t){return t.startsWith("~/")?l:a}function f(t,r){if(r&&"string"==typeof r)return r;if(!Array.isArray(r))return n("io:"+t,"argument path is not a string or strings.",[r]),null;for(var i=0,o=(r=r.slice()).length;i<o;i++)"string"!=typeof r[i]&&(r[i]=e(r[i],"to-string"));return r.join("/")}s.read=function(t){return(t=f("read",t))?c(t).getItem(t):null},s.write=function(t,n){return(t=f("write",t))?(n=void 0===n?u():u(n),c(t).setItem(t,n),n):null},s["to-read"]=function(t){return(t=f("to-read",t))?Promise.resolve(c(t).getItem(t)):Promise.reject(n())},s["to-write"]=function(t,e){return(t=f("to-write",t))?(e=void 0===e?u():u(e),c(t).setItem(t,e),Promise.resolve(e)):Promise.reject(n())}}},function(t,n,e){"use strict";function r(){}t.exports=function(){var t={},n="";t.print=function(t){n&&(t=n+t,n=""),console.log(t)},t.printf=function(t){var e=t.split("\n"),r=e.pop();e.length>0?(e[0]=n+e[0],n=r,console.log(e.join("\n"))):n+=r},t.verbose=r,t.info=r,t.warn=r,t.error=r,t.debug=r;var e=[];t.echo=function(t){e.push(t)};var i=">";return t.prompt=function(t){t&&(i=t)},t.connect=function(t){return window._$=function(n){if("string"==typeof n){if(t(n),e.length>0){var r=e.join("\n ");return e=[],r}i.startsWith(">")||console.info(i)}else console.error("input is not a string:",n)},t},t.disconnect=function(){window._$=null},t}},function(t,n,e){"use strict";t.exports=function(t,n){var e=null,r=function(t){return e&&e(t)};return{prompt:n.prompt,open:function(){return n.connect(r)},on:function(t,n){switch(t){case"line":return e=n,t;default:return null}},close:function(){n.disconnect()}}}},function(t,n,e){"use strict";var r=e(100);t.exports=function(t){return function(n){var e=r(n,!0),i=function(t,n,e){return function(){var r=n[e],i=r.apply(null,arguments);return t[e](i),i}}.bind(null,t,e),o={};for(var u in e)o[u]="printf"!==u?i(u):function(n,r){return n=e.printf(n),t.printf(n,r),n};return o}}},function(t,n,e){"use strict";(function(n){var r,i;"undefined"==typeof window?(r=e(!function(){var t=new Error("Cannot find module 'colors/safe'");throw t.code="MODULE_NOT_FOUND",t}()),i=!1):(r=null,i=/MSIE \d|Trident.*rv:/.test(navigator.userAgent));var o=Object.assign(Object.create(null),{red:"color",green:"color",blue:"color",yellow:"color",grey:"color",gray:"color",underline:"text-decoration"});function u(t){return r?function(n){for(var e in t){var i=t[e];n=r[i](n)}return n}:null}var s=i?function(t,n){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(n),console[t].apply(console,e)}}:function(t,n){return console[t].bind(console,n)};t.exports=function(t,e){var i=t.$.string.of;const a=e||"undefined"!=typeof window?null:function(t){return n.stdout.write(t),t};function l(){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}function c(n,e,i){var o=console[n]?t.isNativeHost?s(n,r.gray("#"+e)):s(n,"#"):s("log","#"+e);return t.isNativeHost?function(){var t=l.apply(null,arguments);return o(i?i(t):t),t}:function(){return o.apply(null,arguments),l.apply(null,arguments)}}return{print:function(){var t=l.apply(null,arguments);return!e&&console.log(t),t},printf:function(t,n){var e=l(t);if(a){var i=null;if(n&&r){var s="string"==typeof n?function(t){for(var n=t.split(/\s/),e={},r=!1,i=0;i<n.length;i++){var s=n[i];o[s]&&(r=!0,e[o[s]]=s)}return r&&u(e)}(n):"object"==typeof n?function(t){var n={},e=!1;for(var r in t){var i=t[r];o[i]===r&&(e=!0,n[r]=i)}return e&&u(n)}(n):null;i=s?s(e):e}a(i||e)}return e},verbose:c("info","V",r&&r.gray),info:c("info","I",r&&r.gray),warn:c("warn","W",r&&r.yellow),error:c("error","E",r&&r.red),debug:c("debug","D",r&&r.blue)}}}).call(this,e(1))},function(t,n,e){"use strict";var r=e(102);t.exports=function(t){var n=r(t);return"undefined"==typeof window?function(t,n){var r=e(!function(){var t=new Error("Cannot find module './loader-fs'");throw t.code="MODULE_NOT_FOUND",t}())(t);return{cache:n.cache,fsCache:r.cache,dir:r.dir,isResolved:function(t){return r.isResolved(t)||n.isResolved(t)},resolve:function(t,e){return n.isResolved(t)||r.isResolved(t)?t:e&&e.length>0&&n.isResolved(e[0])?n.resolve(t,e):r.resolve(t,e)},load:function(t){return n.isResolved(t)?n.load(t):r.load(t)},fetch:function(t){return n.isResolved(t)?n.fetch(t):r.fetch(t)}}}(t,n):n}},function(t,n,e){"use strict";var r=e(4),i=e(103)(!0);function o(t){return/^(http[s]?:\/\/)/i.test(t)}function u(t,n){for(;"/"===t.charAt(t.length-1);)t=t.substring(0,t.length-1);for(;"/"===n.charAt(0);)t=t.substring(1);var e=t.indexOf("://");for(e>0&&(e+=3);n.startsWith("./")||n.startsWith("../");)if("/"===n.charAt(1))n=n.substring(2);else{n=n.substring(3);for(var r=t.lastIndexOf("/");"/"===t.charAt(r-1);)r--;r>e&&(t=t.substring(0,r))}return t+"/"+n}function s(t){return t&&t.indexOf("://")>0?t:"undefined"==typeof window?"http://localhost":window.location.origin+window.location.pathname}function a(t){return t>=200&&t<300||304===t}function l(t,n){return[404,"Not Cached",n?[t,n]:[t]]}t.exports=function(t){var n=t.$.promise,e=n["of-resolved"],c=r.create({timeout:3e4,transformResponse:void 0,responseType:"text",keepAlive:"timeout=10, max=1000"});return{cache:i,dir:function(t){var n=t.lastIndexOf("/");return 0===n?"/":n>0?t.substring(0,n):""},isResolved:o,resolve:function(t,n){if(o(t))return t;var e,r;if(n.length<=0&&(n=[t.startsWith("/")?(r=e?e.indexOf("://"):0,r>0?e.substring(0,e.indexOf("/",r+3)):"undefined"==typeof window?"http://localhost":window.location.origin):s()]),1===n.length)return u(n[0],t);for(var a=0;a<n.length;a++){var c=u(n[a],t);if(i.ver(c))return c}return l(t,n)},load:function(t){var n=i.get(t);return n?[n,i.ver(t)]:[null,l(t)]},fetch:function(t){var r=i.ver(t);return i.isExpired(r)?n.of(function(n){c.get(t,function(t){return!t||i.isTimestamp(t)?null:{validateStatus:a,headers:{"If-None-Match":t}}}(r)).then(function(e){304!==e.status&&i.set(t,e.data,e.headers.etag),n.resolve(t)}).catch(function(e){n.reject(e.response?function(t,n){return[n.status,n.statusText,[t]]}(t,e.response):function(t,n){return[503,"Response Unavailable",[t,n]]}(t,e))})}):e(t)}}}},function(t,n,e){"use strict";var r="/es/loaded:",i=r+"version:";function o(t){function n(){for(var n=[],e=0,i=t.length;e<i;e++){t.key(e).startsWith(r)&&n.push(t.key(e))}return n}return{keys:n,getItem:t.getItem.bind(t),setItem:t.setItem.bind(t),removeItem:t.removeItem.bind(t),clear:function(){for(var e=n(),r=0,i=e.length;r<i;r++)t.removeItem(e[r]);return e}}}function u(){var t=Object.create(null);return{keys:function(){return Object.getOwnPropertyNames(t)},getItem:function(n){return t[n]||null},setItem:function(n,e){t[n]=e},removeItem:function(n){delete t[n]},clear:function(){t=Object.create(null)}}}function s(t){return"string"==typeof t&&t?r+t:null}function a(t){return"string"==typeof t&&t?i+t:null}function l(t){return"local:"+Math.trunc(Date.now()/600/1e3)}t.exports=function(t){var n=t&&(("undefined"==typeof window?null:window.localStorage?o(window.localStorage):u())||function(){if("undefined"!=typeof window)return null;try{return o(new(0,e(!function(){var t=new Error("Cannot find module 'node-localstorage'");throw t.code="MODULE_NOT_FOUND",t}()).LocalStorage)("./.es/loaded"))}catch(t){return null}}())||u();return{store:{list:function(t){for(var e=[],r=n.keys(),o=0;o<r.length;o++)r[o].startsWith(i)&&("string"!=typeof t||r[o].indexOf(t)>0)&&e.push([r[o].substring(i.length),n.getItem(r[o])]);return e},read:function(t){for(var e=n.keys(),r=0;r<e.length;r++)if(e[r].startsWith(i)&&("string"!=typeof t||e[r].indexOf(t)>0))return n.getItem(s(e[r].substring(i.length)))},reset:function(t){for(var e=0,r=n.keys(),o=0;o<r.length;o++)r[o].startsWith(i)&&("string"!=typeof t||r[o].indexOf(t)>0)&&(e++,n.removeItem(r[o]),n.removeItem(s(r[o].substring(i.length))));return e},clear:function(){return n.clear(),!0}},get:function(t){var e=s(t);return e?n.getItem(e):null},ver:function(t){var e=a(t);return e?n.getItem(e):null},isTimestamp:function(t){return t.startsWith("local:")},isExpired:function(t){return t!==l()},set:function(t,e,r){if("string"!=typeof e)return null;var i=s(t),o=a(t);return i&&o?("string"==typeof r&&i||(r=l()),n.setItem(i,e),n.setItem(o,r),r):null}}}},function(t,n,e){"use strict";t.exports=function(t,n,e){var r=t.$.type.of,i=t.$warn,o=t.$print,u=t.$printf,s=t.thisCall,a=t.$shell={};return function(l,c,f){var p=!1;function h(t,n){return function(t,n){var e="#("+t+s(r(n),"to-string"),i=n&&"string"==typeof n.name?n.name:"";return i?e+": "+i+")# ":e+")# "}(n||"",t)+s(t,"to-string")}function d(t){"exiting"===t?c((o("See you again."),n.close(),e.exit(0))):i.apply(null,Array.prototype.slice.call(arguments,1))}"function"!=typeof c&&(c=o.bind(null,"=")),"string"==typeof f&&f||(f='(var * (load "profile"))');var g=t.$interpreter(function(t,n){n?d(n):p&&function(t){if(!(t instanceof Promise))return c(h(t));c("#(promise: waiting ...)#"),t.then(function(t){c(h(t,"... result: "))},function(t){c(h(t,"... excuse: "))})}(t)},l,e.env("PWD"));g('(run "tools/version")\n'),u("# shell object","gray"),u(" .loader","yellow"),a[".loader"]=t.loader.cache.store,u(", and","gray"),u(" functions","gray"),u(" .echo","blue"),a[".echo"]=function(){return(p=!p)||(u("  "),u("#(bool)# false\n","gray"))},u(",","gray"),u(" .debug","blue"),a[".debug"]=function(n){var e=t.env("is-debugging");return void 0===n?e:t.env("is-debugging",null!==n&&0!==n&&!1!==n)},u(" and","gray"),u(" .logging","blue"),a[".logging"]=function(n){var e=t.env("logging-level");return"number"!=typeof n?e:t.env("logging-level",(n>>=0)<0?0:n>127?127:n)},u(" are imported.\n","gray"),g('(var * (import "$shell"))\n'),g(f+"\n"),p=!0,n.prompt(),n.on("line",function(t){g(t);var e=g("\n");n.prompt(e>1?"..":"> ")})}}},function(t,n,e){"use strict";t.exports=function(t,n,e){n=Object.assign(Object.create(null),n);var r=window.location;n._=r.href;var i=r.origin||r.protocol+"://"+r.host;n.HOME=i;var o=function(t){var n=t.indexOf("?");return n>=0&&(t=t.substring(0,n)),t||""}(r.pathname);return n.PATH=i+o,n.PWD=i+function(t){var n=t.lastIndexOf("/");return n<=0?"":n===t.length-1?t:t.substring(0,n)||""}(o),{env:function(t){if("string"!=typeof t)return null;var e=n[t];return"string"==typeof e?e:null},exit:function(n){return n="number"==typeof n?n>>0:1,"function"==typeof e?e(n):function(t){var n=3;return setInterval(function(){n>0?t(n--):window.location.reload()},500),"reloading ..."}(function(n){switch(n){case 1:return t.$printf("."+n,"red");case 2:return t.$printf(".."+n,"yellow");default:return t.$printf("..."+n,"blue")}})}}}},function(t,n,e){"use strict";(function(n){var r=Object.create(null);e(13)(r),t.exports=function(t){var i=t.$,o=t.$print,u=t.$printf;(o.bound||o).nativeField=!0;var s=function(t){return function(n){u(n+"\n",t)}},a=s("red"),l=s("gray"),c=s("green"),f=function(){u("    "+r.passed+"[PASSED] ","green")},p=function(){u("    "+r.failed+"[FAILED] ","red")},h=0,d=[];return function(){if(o("\n  Checking JavaScript environment"),g("JS is using the space of "+(n?"global.":"window.")),("undefined"==typeof Promise?y:g)("Promise"),("function"!=typeof Object.defineProperty?y:g)("Object.defineProperty"),function(){var t=e(3);if(t.length>0){g("Espresso is using some polyfill functions:");l("      - "+t.join("\n      - "))}else c("      Congratulations! Espresso does not need any polyfill.")}(),o("\n  Checking Espresso Runtime ..."),v(t,"[Void / Null] ",["null"]),m(t,"[Void / constructors] ",["Type","Date","Range","Symbol","Tuple","Iterator","Promise","Object","ClassType","Signal","Space","OperatorSpace"]),m(t,"[Void / functions] ",["operator","lambda","function","createAppSpace","createModuleSpace","createLambdaSpace","createFunctionSpace","createOperatorSpace","signalOf","lambdaOf","functionOf","operatorOf","evaluate","execute"]),function(n,e){o("\n  -",n);for(var r=0;r<e.length;r++){var i=e[r];"function"==typeof t.staticOperators[i]?g(i):y(n+i)}}("[void / operators] ",["`","quote","unquote","export","var","let","const","local","locon","?","if","while","in","for","break","continue","+","++","--","!","not","~","@","=?","=","->","=>","redo","return","exit","import","load","fetch","debug","log"]),v(i,"[Espresso / types] ",["type","bool","string","number","date","range","symbol","tuple","operator","lambda","function","iterator","promise","array","object","class"]),m(i,"[Espresso / functions] ",["commit","commit*","commit?","eval","tokenizer","tokenize","compiler","compile"]),m(t,"[Espresso / functions] ",["$env","$run","$interpreter"]),m(i,"[Espresso / lib / functions] ",["max","min"]),m(t,"[Espresso / lib / app-only functions] ",["$print","$printf","$warn","$espress"]),v(i,"[Espresso / lib / objects] ",["uri","math","json"]),v(i,"[Espresso / lib / classes] ",["emitter"]),v(t,"[Espresso / lib / classes] ",["$timer"]),function(){o("\n  - Static type-of");var t=i.type.of;b("[undefined]",null===t()),b("null",null===t(null)),b("bool",t(!0)===i.bool),b("string",t("")===i.string),b("number",t(1)===i.number),b("date",t(i.date.empty)===i.date),b("range",t(i.range.empty)===i.range),b("symbol",t(i.symbol.empty)===i.symbol),b("tuple",t(i.tuple.empty)===i.tuple),b("operator",t(i.operator.empty())===i.operator),b("lambda",t(i.lambda.noop)===i.lambda),b("stambda",t(i.lambda.static)===i.lambda),b("function",t(i.function.empty())===i.function),b("function (generic)",t(function(){})===i.function),b("iterator",t(i.iterator.empty)===i.iterator),b("promise",t(i.promise.empty)===i.promise),b("array",t(i.array.empty())===i.array),b("array (generic)",t([])===i.array),b("object",t(i.object.empty())===i.object),b("object (generic)",t({})===i.object),b("class",t(i.class.empty())===i.class)}(),function(){o("\n  - Static indexer-of");var n=t.indexerOf;b("undefined",n()===t.null[":"]),b("null",n(null)===t.null[":"]),b("type",n(i.type)===i.type[":"]),b("bool",n(i.bool)===i.bool[":"]),b("bool: true",n(!0)===i.bool.proto[":"]),b("bool: false",n(!1)===i.bool.proto[":"]),b("string",n(i.string)===i.string[":"]),b("string: empty",n("")===i.string.proto[":"]),b("number",n(i.number)===i.number[":"]),b("number: 0",n(0)===i.number.proto[":"]),b("date",n(i.date)===i.date[":"]),b("date: empty",n(i.date.empty)===i.date.proto[":"]),b("range",n(i.range)===i.range[":"]),b("range: empty",n(i.range.empty)===i.range.proto[":"]),b("symbol",n(i.symbol)===i.symbol[":"]),b("symbol: empty",n(i.symbol.empty)===i.symbol.proto[":"]),b("operator",n(i.operator)===i.operator[":"]),b("operator.empty",n(i.operator.empty())===i.operator.proto[":"]),b("lambda",n(i.lambda)===i.lambda[":"]),b("lambda: empty",n(i.lambda.empty())===i.lambda.proto[":"]),b("function",n(i.function)===i.function[":"]),b("function: empty",n(i.function.empty())===i.function.proto[":"]),b("function: generic",n(function(){})===i.function.proto[":"]),b("array",n(i.iterator.empty)===i.iterator.proto[":"]),b("array",n(i.promise.empty)===i.promise.proto[":"]),b("array",n(i.array)===i.array[":"]),b("array: empty",n(i.array.empty())===i.array.proto[":"]),b("array: generic",n([])===i.array.proto[":"]),b("object",n(i.object)===i.object[":"]),b("object: empty",n(i.object.empty())===i.object.proto[":"]),b("object: generic",n({})===i.object.proto[":"])}(),o("\n  - Primary Types"),w(null,"","<empty>"),w(null,"()"),w(null,"null"),w(i.type,"type"),w(i.bool,"bool"),w(!0,"true"),w(!1,"false"),w(i.string,"string"),w(i.string.empty,'""'),w("ABC",'"ABC"'),w("ABC",'("ABC")'),w(3,'("ABC" length)'),w("ABCDEF",'("ABC" + "DEF")'),w(i.number,"number"),w(3,"(1 + 2)"),w(-1,"(1 - 2)"),w(2,"(1 * 2)"),w(.5,"(1 / 2)"),w(i.date,"date"),w(function(t){return t instanceof Date},"(date now)"),w(i.range,"range"),w(function(t){return 0===t.begin&&3===t.end&&1===t.step},"(0 3)"),w(function(t){return 10===t.begin&&20===t.end&&2===t.step},"(10 20 2)"),w(i.symbol,"symbol"),w(function(t){return"x"===t.key},"(` x)"),w(i.tuple,"tuple"),w(function(n){var e=n.$;return n instanceof t.Tuple&&"x"===e[0].key&&1===e[1]&&"y"===e[2]&&!0===e[3]},'(` (x 1 "y" true))'),w(i.operator,"operator"),w(function(t){return t.type===i.operator},"(=? () )"),w(function(t){return t.type===i.operator},"(=? (X Y) (+ (X) (Y)."),w(i.lambda,"lambda"),w(function(t){return t.type===i.lambda},"(= () )"),w(function(t){return t.type===i.lambda},"(= (x y) (+ x y)."),w(i.function,"function"),w(function(t){return t.type===i.function},"(=> () )"),w(function(t){return t.type===i.function},"(=> (x y) (+ x y)."),w(i.array,"array"),w(function(t){return 2===t.length&&1===t[0]&&2===t[1]},"(array of 1 2)"),w(2,"((@ 10 20) length)"),w(20,"((@ 10 20) 1)"),w(i.object,"object"),w(function(t){return 1===t.x&&2===t.y},"(@ x: 1 y: 2)"),w(10,"((@ x: 10 y: 20) x)"),w(20,"((@ x: 10 y: 20) y)"),w(200,'((@ x: 10 y: 20) "y" 200)'),w(i.class,"class"),w(function(t){return t.type===i.class},"(@:class x: 1 y: 0)"),w(function(t){return t.type===i.class},"(class of (@: x: 1 y: 0)."),o("\n  - Assignment"),w(1,"(let x 1)"),w(2,"(let x 1) (let y 2)"),w(2,"(let (x y) (@ 1 2). y"),w(2,"(let (x y) (@ x: 1 y: 2). y"),w(2,"(let * (@ x: 1 y: 2). y"),w(1,"(var x 1)"),w(2,"(var x 1) (var y 2)"),w(2,"(var (x y) (@ 1 2). y"),w(2,"(var (x y) (@ x: 1 y: 2). y"),w(2,"(var * (@ x: 1 y: 2). y"),w(1,"(export x 1)"),w(2,"(export x 1) (export y 2)"),w(2,"(export (x y) (@ x: 1 y: 2). y"),w(2,"(export * (@ x: 1 y: 2). y"),o("\n  - Operators"),w(1,"(? true 1 0)"),w(0,"(? false 1 0)"),w(110,"(+ 10 100)"),w(-110,"(+ -10 -100)"),w("10100",'(+ "10" "100")'),w("-10-100",'(+ "-10" "-100")'),w(1,"(++)"),w(-1,"(--)"),w(1,"(++ null)"),w(-1,"(-- null)"),w(1,"(++ 0)"),w(-1,"(-- 0)"),w(1,"(let x 0)(++ x)x"),w(-1,"(let x 0)(-- x)x"),w(!0,"(1 ?)"),w(!1,"(0 ?)"),w(!1,"(null ?)"),w(!0,"(true ? 1)"),w(1,"(false ? 1)"),w(1,"(true ? 1 0)"),w(0,"(false ? 1 0)"),w(0,"(null ?? 0)"),w(!1,"(false ?? 0)"),w(0,"(0 ?? 1)"),w("",'("" ?? 1)'),o("\n  - Control"),w(0,"(if true 1 0)"),w(null,"(if false 1 0)"),w(1,"(if true 1 else 0)"),w(0,"(if false 1 else 0)"),w(10,"(for x in (100 110) (++ i)."),w(99,"(while ((++ i) < 100) i)"),w(100,"(let i 0)(while ((i ++) < 100) i)"),w(100,"(while ((++ i) < 100). i"),w(101,"(let i 0)(while ((i ++) < 100). i"),w("done",'(while ((++ i) < 100) (if (i == 10) (break "done").'),o("\n  - Operations"),w(21,"(let x 1) (let y 20) (let add (=? (a b) ((a) + (b). (add x y)"),w(21,"(let z 100) (let add (= (x y) (x + y z). (add 1 20)"),w(21,"(let z 100) (= (1 20): (x y) (x + y z)."),w(121,"(let z 100) (let add (=> (x y) (x + y z). (add 1 20)"),w(121,"(let z 100) (=> (1 20): (x y) (x + y z)."),w(11,"(let summer (@:class add: (= () ((this x) + (this y). (let s (summer of (@ x: 1 y: 10). (s add)"),w(11,"(let summer (@:class type: (@ add: (= (x y ) (+ x y). (summer add 1 10)"),c("\n  passing: "+h),d.length<1)return c("\n  Espresso is ready to run.\n"),!0;a("  failing: "+d.length),o("\n  There might be some issues to prevent running Espresso");for(var r=0;r<d.length;r++)a("  - "+d[r]);return o(),!1};function g(t){h+=1,f(),l(t)}function y(t){d.push(t),p(),a(t)}function v(t,n,e){o("\n  -",n);for(var r=0;r<e.length;r++){var i=e[r];"object"==typeof t[i]?g(i):y(n+i)}}function m(t,n,e){o("\n  -",n);for(var r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]?g(i):y(n+i)}}function b(t,n,e){n?g(t):y(e?t+" - "+e:t)}function w(t,n,e){var r=i.eval(n),o="function"==typeof t?t(r):Object.is(r,t);b(n||e,o,o||"evaluated to a value of "+typeof r+": "+(r?r.toString():r))}}}).call(this,e(2))},function(t,n,e){"use strict";var r,i,o,u=2400,s=300,a=13,l=38,c=40,f="~/.es_history",p=20,h=[],d=!1;function g(t){h.length>2*u&&(h=h.slice(u)),h.push(t)}function y(){if(r.childElementCount>u)for(var t=u/2;r.childElementCount>t;)r.removeChild(r.firstElementChild);window.scrollTo(0,document.body.scrollHeight),i.focus()}var v=null;function m(t){var n=document.createElement("li");return n.className="print",t&&n.appendChild(t),r.appendChild(n),n}function b(t,n){var e=document.createElement("span");return e.className="text",e.appendChild(document.createTextNode(j(n))),t.appendChild(e),e}var w=Object.assign(Object.create(null),{red:"color",green:"color",blue:"color",yellow:"color",grey:"color",gray:"color",underline:"*text-decoration",overline:"*text-decoration","line-through":"*text-decoration"});function x(t){var n=function(t){var n="";for(var e in t){var r=t[e];"string"==typeof r&&(n+=e+": "+r+";")}return n}(t);return n&&function(t){t.style.cssText=n}}function O(t,n,e){var r=document.createElement("span");r.className="prompt",e&&r.appendChild(document.createTextNode(e)),t.appendChild(r),(r=document.createElement("span")).className="text",r.appendChild(document.createTextNode(j(n))),t.appendChild(r)}function j(t){for(var n="",e=0;e<t.length;e++){if(!/\s/.test(t.charAt(e)))return n+t.slice(e);n+=" "}return t}function $(t){var n=function(){if(!window.localStorage)return[];var t=window.localStorage.getItem(f);if(!t)return[];try{var n=JSON.parse(t);return Array.isArray(n)?n:[]}catch(t){return console.warn("failed to load input history:",t),[]}}(),e=n.length,r="";function u(n){t.reader&&setTimeout(function(){d=!0,t.reader(n),d=!1,function t(){h.length<1||setTimeout(function(){for(var n=h.splice(0,s),e=0,r=n.length;e<r;e++){var i=n[e];i[0](i[1],i[2],!0)}t()},p)}()},p)}o.onclick=function(){if(i.value){var o=i.value;i.value="",r="",e=function(t,n){if(t.length>0&&t[t.length-1]===n)return t.length;if(t.push(n),t.length>1e3&&(t=t.slice(-1e3)),window.localStorage)try{window.localStorage.setItem(f,JSON.stringify(t))}catch(t){console.warn("failed to save input history:",t)}return t.length}(n,o),t.input(o),u(o)}},i.addEventListener("keypress",function(t){t.keyCode===a&&(t.preventDefault(),o.onclick())}),i.addEventListener("keydown",function(t){switch(t.keyCode){case l:e===n.length&&(r=i.value),--e>=0&&e<n.length?i.value=n[e]:(e=n.length,i.value=r);break;case c:e===n.length&&(r=i.value),++e<n.length?i.value=n[e]:e>n.length?(e=0)<n.length&&(i.value=e<n.length?n[e]:""):i.value=r;break;default:return}t.preventDefault()}),i.focus()}t.exports=function(){var t={};r=document.getElementById("stdout-panel"),i=document.getElementById("stdin-input"),o=document.getElementById("stdin-enter");var n=function(t){return function t(n,e,r){if(!r&&(d||h.length>0))return g([t,n,e]);for(var i=n.split("\n"),o=[],u=0,s=i.length-1;u<=s;u++){var a=i[u];(u>0||!a)&&(v=null),a?o.push(b(v||(v=m()),a)):u<s&&m(document.createElement("br"))}if(e&&o.length>0)for(var l=0,c=o.length;l<c;l++)e(o[l]);y()}}.bind(null,r)("print");t.print=function(t){n("\n"===t.charAt(t.length-1)?t:t+"\n")},t.printf=function(t,e){var r="string"==typeof e?function(t){for(var n=t.split(/\s/),e={},r=0;r<n.length;r++){var i=n[r];if(w[i]){var o=w[i];o.startsWith("*")?e[o=o.substring(1)]=e[o]?e[o]+" "+i:i:e[o]=i}}return x(e)}(e):"object"==typeof e?x(e):null;n(t,r)};var e=function(t,n,e){return function r(i,o,u){if(!u&&(d||h.length>0))return g([r,i,o]);e&&o.length>e&&(o=o.substring(0,e-10)+"... ... ..."+o.substring(o.length-10)+" # use (print ...) to display all text.");for(var s=o.split("\n"),a=0,l=s.length;a<l;a++){var c=document.createElement("li");c.className=n,s[a]?O(c,s[a],a>0?"":i):c.appendChild(document.createElement("br")),t.appendChild(c)}y()}}.bind(null,r);t.verbose=e("verbose").bind(null,"#V"),t.info=e("info").bind(null,"#I"),t.warn=e("warn").bind(null,"#W"),t.error=e("error").bind(null,"#E"),t.debug=e("debug").bind(null,"#D"),t.echo=e("echo",150).bind(null,"=");var u=">",s=document.getElementById("stdin-prompt");t.prompt=function(t){t&&(s.innerText=u=t)};var a=e("input");return t.input=function(t){a(u,t)},$(t),t.connect=function(n){return t.reader="function"==typeof n?n:null},t.disconnect=function(){t.reader=null},t}}]);
//# sourceMappingURL=eslang.min.map